{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./client/js/app.js","webpack:///./client/js/entities/bomb.js","webpack:///./client/js/entities/bone.js","webpack:///./client/js/entities/enemy_player.js","webpack:///./client/js/entities/fire_blast.js","webpack:///./client/js/entities/info.js","webpack:///./client/js/entities/player.js","webpack:///./client/js/entities/spoil.js","webpack:///./client/js/helpers/Model.js","webpack:///./client/js/helpers/elements.js","webpack:///./client/js/states/boot.js","webpack:///./client/js/states/menu.js","webpack:///./client/js/states/pending_game.js","webpack:///./client/js/states/play.js","webpack:///./client/js/states/preload.js","webpack:///./client/js/states/select_map.js","webpack:///./client/js/states/win.js","webpack:///./client/js/utils/constants.js","webpack:///./client/js/utils/utils.js"],"names":["config","type","Phaser","AUTO","parent","width","height","pixelArt","audio","noAudio","scale","mode","Scale","NONE","autoCenter","CENTER_BOTH","scene","Boot","Preload","Menu","SelectMap","PendingGame","Play","Win","physics","arcade","gravity","y","game","Game","Bomb","id","col","row","TILE_SIZE","add","existing","body","pushable","tween","tweens","targets","to","x","alpha","value","duration","ease","delay","yoyo","repeat","repeatDelay","hold","duraton","EXPLOSION_TIME","anims","create","key","frames","generateFrameNumbers","start","end","frameRate","play","GameObjects","Sprite","Bone","EnemyPlayer","spawn","skin","currentPosition","lastMoveAt","setSize","defineSelf","newPosition","time","now","animateFace","PING","face","diffX","diffY","name","playerText","Text","text","style","font","fill","stroke","strokeThickness","FireBlast","cell","hideOnComplete","addEvent","callback","destroy","bind","callbackScope","loop","Info","player","align","redStyle","bootsIcon","image","speedText","speedLabel","powerIcon","powerText","powerLabel","delayIcon","delayText","delayLabel","deadText","sys","canvas","clientWidth","setOrigin","visible","speed","power","Player","prevPosition","INITIAL_DELAY","INITIAL_POWER","INITIAL_SPEED","_lastBombTime","positionUpdaterLoop","info","defineKeyboard","socket","registry","get","alive","handleMoves","handleBombs","cursorKeys","input","keyboard","createCursorKeys","velocity","set","animationsArray","left","isDown","push","right","up","down","currentAnimation","stop","space","emit","currentCol","currentRow","Math","floor","showDeadInfo","spoil_type","SPEED","increaseSpeed","POWER","increasePower","DELAY","increaseDelay","asset","MAX_SPEED","STEP_SPEED","refreshStatistic","SpoilNotification","MIN_DELAY","STEP_DELAY","STEP_POWER","Spoil","spoil","Model","_soundOn","_musicOn","_bgMusicPlaying","Button","callbackContext","overFrame","outFrame","downFrame","upFrame","Input","Gamepad","TextButton","label","console","log","model","enable","atext","setInteractive","on","onDown","onUp","onOver","setFrame","soundOn","FxDeath01","sound","volume","mycallbackFunction","GameSlots","availableGames","game_slot_asset","game_enter_asset","yOffset","nbGame","availableGame","gameBox","Image","button","game_id","Container","PlayerSlots","max_players","players","asset_empty","asset_player","xOffset","YOffset","i","slotBox","slotName","_player","picture","setAlpha","finish","Group","COLOR_PRIMARY","COLOR_LIGHT","COLOR_DARK","MapSlider","selected","maps","map","component","scrollablePanel","rexUI","scrollMode","background","roundRectangle","panel","child","createPanel","mask","padding","slider","track","thumb","top","bottom","layout","labels","topOnly","getElement","forEach","click","setColor","data","sizer","orientation","item","length","circleMaskImage","maskType","radius","icon","io","Scene","slotsWithGame","displayPendingGames","clientHeight","hostGameAction","bgMusicPlaying","bgMusic","stopByKey","musicOn","joinGameAction","slotsWithPlayer","playerCount","startGameButton","startGameAction","disactivate","leaveGameAction","gameTitle","displayGameInfo","launchGame","current_game","Object","values","FxPickItem01","activate","currentGame","createMap","createPlayers","setEventHandlers","stopAll","joyStick","plugins","base","circle","dumpJoyStickState","s","force","angle","setText","collider","blockLayer","enemies","bombs","overlap","spoils","onPlayerVsSpoil","blasts","onPlayerVsBlast","update","stopAnimationLoop","tilemap","tileset","addTilesetImage","TILESET","createLayer","LAYER","setCollision","layer","properties","collisionTiles","bones","group","setup","onMovePlayer","onPlayerWin","onShowBomb","onDetonateBomb","onSpoilWasPicked","onShowBones","onPlayerDisconnect","spoil_id","remove","blast","becomesDead","player_id","enemy","goTo","getChildren","getTime","bomb_id","blastedCells","FxExplosion01","destroyed","putTileAt","empty","pickSpoil","winner_skin","children","load","spritesheet","frameWidth","frameHeight","tilemapTiledJSON","url","plugin","scenePlugin","sceneKey","container","img","txt","selectedMap","confirmStageSelection","mapSlider","joinToNewGame","winnerText","returnToMenu","addKey","Keyboard","KeyCodes","ENTER","AVAILABLE_MAPS","findFrom","entities","entity","findAndDestroyFrom"],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;;;;AClFA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AACA;AACA;AAEA,IAAIA,MAAM,GAAG;AACXC,MAAI,EAAEC,MAAM,CAACC,IADF;AAEXC,QAAM,EAAE,gBAFG;AAGXC,OAAK,EAAE,GAHI;AAIXC,QAAM,EAAE,GAJG;AAKXC,UAAQ,EAAE,KALC;AAMXC,OAAK,EAAE;AACLC,WAAO,EAAE;AADJ,GANI;AASXC,OAAK,EAAE;AACLC,QAAI,EAAET,MAAM,CAACU,KAAP,CAAaC,IADd;AAELC,cAAU,EAAEZ,MAAM,CAACU,KAAP,CAAaG;AAFpB,GATI;AAaXC,OAAK,EAAE,CAACC,gBAAD,EAAOC,mBAAP,EAAgBC,gBAAhB,EAAsBC,sBAAtB,EAAiCC,wBAAjC,EAA8CC,gBAA9C,EAAoDC,eAApD,CAbI;AAcXC,SAAO,EAAE;AACP,eAAS,QADF;AAEPC,UAAM,EAAE;AACNC,aAAO,EAAE;AAAEC,SAAC,EAAE;AAAL;AADH;AAFD;AAKR;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AA5Ba,CAAb;AAgCA,IAAIC,IAAI,GAAG,IAAI1B,MAAM,CAAC2B,IAAX,CAAgB7B,MAAhB,CAAX,C;;;;;;;;;;;;;;;;;;;;;AC1CA;;;;;;;;;;;;;;;;;;;;;;IAEqB8B,I;;;;;AAEnB,gBAAYF,IAAZ,EAAkBG,EAAlB,EAAsBC,GAAtB,EAA2BC,GAA3B,EAAgC;AAAA;;AAAA;;AAC9B,8BAAML,IAAN,EAAaI,GAAG,GAAGE,oBAAP,GAAoBA,uBAAY,CAA5C,EAAgDD,GAAG,GAAGC,oBAAP,GAAoBA,uBAAY,CAA/E,EAAkF,cAAlF;AACA,UAAKN,IAAL,GAAYA,IAAZ;AACA,UAAKG,EAAL,GAAUA,EAAV;;AAEA,UAAKH,IAAL,CAAUO,GAAV,CAAcC,QAAd;;AACA,UAAKR,IAAL,CAAUJ,OAAV,CAAkBW,GAAlB,CAAsBC,QAAtB;;AACA,UAAKC,IAAL,CAAUC,QAAV,GAAqB,KAArB;AAEA,UAAKC,KAAL,GAAa,MAAKX,IAAL,CAAUY,MAAV,CAAiBL,GAAjB,CAAqB;AAChCM,aAAO,+BADyB;AAEhC/B,WAAK,EAAE;AAAEgC,UAAE,EAAE;AAAEC,WAAC,EAAE,GAAL;AAAUhB,WAAC,EAAE;AAAb;AAAN,OAFyB;AAGhCiB,WAAK,EAAE;AAAEC,aAAK,EAAE,CAAT;AAAYC,gBAAQ,EAAE,IAAtB;AAA4BC,YAAI,EAAE,QAAlC;AAA4CC,aAAK,EAAE;AAAnD,OAHyB;AAIhCD,UAAI,EAAE,YAJ0B;AAKhCE,UAAI,EAAE,IAL0B;AAMhCC,YAAM,EAAE,CAAC,CANuB;AAOhCC,iBAAW,EAAE,IAPmB;AAQhCC,UAAI,EAAE,IAR0B;AAShCC,aAAO,EAAEC;AATuB,KAArB,CAAb;AAYA,QAAMC,KAAK,GAAC3B,IAAI,CAAC2B,KAAjB;AACAA,SAAK,CAACC,MAAN,CAAa;AAACC,SAAG,EAAC,MAAL;AAAaC,YAAM,EAAEH,KAAK,CAACI,oBAAN,CAA2B,cAA3B,EAA2C;AAAEC,aAAK,EAAE,CAAT;AAAYC,WAAG,EAAE;AAAjB,OAA3C,CAArB;AAAyFC,eAAS,EAAC,CAAnG;AAAsGZ,YAAM,EAAE,CAAC;AAA/G,KAAb;;AAEA,UAAKK,KAAL,CAAWQ,IAAX,CAAgB,MAAhB;;AACA,UAAKxB,KAAL,CAAWwB,IAAX;;AAzB8B;AA0B/B;;;;WAED,kBAAS,CAER;;;;EAhC+B7D,MAAM,CAAC8D,WAAP,CAAmBC,M;;;;;;;;;;;;;;;;;;;;;;;ACFrD;;;;;;;;;;;;;;;;;;IAEqBC,I;;;;;AAEnB,gBAAYtC,IAAZ,EAAkBI,GAAlB,EAAuBC,GAAvB,EAA4B;AAAA;;AAAA;;AAC1B,8BAAML,IAAN,EAAYI,GAAG,GAAGE,uBAAY,CAA9B,EAAiCD,GAAG,GAAIC,uBAAY,CAApD,EAAuD,cAAvD;AACA,UAAKN,IAAL,GAAUA,IAAV;;AACA,UAAKA,IAAL,CAAUO,GAAV,CAAcC,QAAd;;AAH0B;AAI3B;;;EAN+BlC,MAAM,CAAC8D,WAAP,CAAmBC,M;;;;;;;;;;;;;;;;;;;;;;;ACFrD;;AACA;;;;;;;;;;;;;;;;;;;;;;IAEqBE,W;;;;;AAEnB,6BAAuC;AAAA;;AAAA,QAAzBvC,IAAyB,QAAzBA,IAAyB;AAAA,QAAnBG,EAAmB,QAAnBA,EAAmB;AAAA,QAAfqC,KAAe,QAAfA,KAAe;AAAA,QAARC,IAAQ,QAARA,IAAQ;;AAAA;;AACrC,8BAAMzC,IAAN,EAAawC,KAAK,CAACzB,CAAP,GAAYT,uBAAY,CAApC,EAAwCkC,KAAK,CAACzC,CAAP,GAAaO,uBAAY,CAAhE,EAAmE,eAAemC,IAAlF;AAEA,UAAKzC,IAAL,GAAYA,IAAZ;AACA,UAAKG,EAAL,GAAUA,EAAV;AAEA,UAAKuC,eAAL,GAAuBF,KAAvB;AACA,UAAKG,UAAL,GAAkB,CAAlB;;AAEA,UAAK3C,IAAL,CAAUO,GAAV,CAAcC,QAAd;;AACA,UAAKR,IAAL,CAAUJ,OAAV,CAAkBW,GAAlB,CAAsBC,QAAtB;;AACA,UAAKC,IAAL,CAAUC,QAAV,GAAqB,KAArB;;AACA,UAAKkC,OAAL,CAAa,EAAb,EAAiB,EAAjB;;AAEA,QAAMjB,KAAK,GAAC3B,IAAI,CAAC2B,KAAjB;AACAA,SAAK,CAACC,MAAN,CAAa;AAACC,SAAG,EAAC,IAAL;AAAWC,YAAM,EAAEH,KAAK,CAACI,oBAAN,CAA2B,eAAeU,IAA1C,EAAgD;AAAET,aAAK,EAAE,CAAT;AAAYC,WAAG,EAAE;AAAjB,OAAhD,CAAnB;AAA4FC,eAAS,EAAC,EAAtG;AAA0GZ,YAAM,EAAE,CAAC;AAAnH,KAAb;AACAK,SAAK,CAACC,MAAN,CAAa;AAACC,SAAG,EAAC,MAAL;AAAaC,YAAM,EAAEH,KAAK,CAACI,oBAAN,CAA2B,eAAeU,IAA1C,EAAgD;AAAET,aAAK,EAAE,CAAT;AAAYC,WAAG,EAAE;AAAjB,OAAhD,CAArB;AAA6FC,eAAS,EAAC,EAAvG;AAA2GZ,YAAM,EAAE,CAAC;AAApH,KAAb;AACAK,SAAK,CAACC,MAAN,CAAa;AAACC,SAAG,EAAC,OAAL;AAAcC,YAAM,EAAEH,KAAK,CAACI,oBAAN,CAA2B,eAAeU,IAA1C,EAAgD;AAAET,aAAK,EAAE,CAAT;AAAYC,WAAG,EAAE;AAAjB,OAAhD,CAAtB;AAA8FC,eAAS,EAAC,EAAxG;AAA4GZ,YAAM,EAAE,CAAC;AAArH,KAAb;AACAK,SAAK,CAACC,MAAN,CAAa;AAACC,SAAG,EAAC,MAAL;AAAaC,YAAM,EAAEH,KAAK,CAACI,oBAAN,CAA2B,eAAeU,IAA1C,EAAgD;AAAET,aAAK,EAAE,CAAT;AAAYC,WAAG,EAAE;AAAjB,OAAhD,CAArB;AAA6FC,eAAS,EAAC,EAAvG;AAA2GZ,YAAM,EAAE,CAAC;AAApH,KAAb;;AAGA,UAAKuB,UAAL,CAAgBJ,IAAhB;;AArBqC;AAsBtC;;;;WAED,kBAAU,CAET;;;WAED,cAAKK,WAAL,EAAkB;AAChB,WAAKH,UAAL,GAAmB,KAAK3C,IAAL,CAAU+C,IAAV,CAAeC,GAAlC;AAEA,WAAKC,WAAL,CAAiBH,WAAjB;AAEC,WAAKnC,KAAL,GAAa,KAAKX,IAAL,CAAUY,MAAV,CAAiBL,GAAjB,CAAqB;AACjCM,eAAO,EAAE,IADwB;AAEjCE,SAAC,EAAE+B,WAAW,CAAC/B,CAFkB;AAGjChB,SAAC,EAAE+C,WAAW,CAAC/C,CAHkB;AAIjCmB,gBAAQ,EAAEgC;AAJuB,OAArB,CAAb;AAMF;;;WAED,qBAAYJ,WAAZ,EAAyB;AACvB,UAAIK,IAAI,GAAG,MAAX;AACA,UAAIC,KAAK,GAAGN,WAAW,CAAC/B,CAAZ,GAAgB,KAAK2B,eAAL,CAAqB3B,CAAjD;AACA,UAAIsC,KAAK,GAAGP,WAAW,CAAC/C,CAAZ,GAAgB,KAAK2C,eAAL,CAAqB3C,CAAjD;;AAEA,UAAIqD,KAAK,GAAG,CAAZ,EAAe;AACbD,YAAI,GAAG,MAAP;AACD,OAFD,MAEO,IAAIC,KAAK,GAAG,CAAZ,EAAe;AACpBD,YAAI,GAAG,OAAP;AACD,OAFM,MAEA,IAAIE,KAAK,GAAG,CAAZ,EAAe;AACpBF,YAAI,GAAG,IAAP;AACD,OAFM,MAEA,IAAIE,KAAK,GAAG,CAAZ,EAAe;AACpBF,YAAI,GAAG,MAAP;AACD;;AAED,WAAKxB,KAAL,CAAWQ,IAAX,CAAgBgB,IAAhB;AACA,WAAKT,eAAL,GAAuBI,WAAvB;AACD;;;WAED,oBAAWQ,IAAX,EAAiB;AACf,UAAIC,UAAU,GAAG,IAAIC,cAAJ,CAAS;AACxBxD,YAAI,EAAE,KAAKA,IADa;AAExBe,SAAC,EAAET,uBAAY,CAFS;AAGxBP,SAAC,EAAE,CAAC,EAHoB;AAIxB0D,YAAI,EAAEH,IAJkB;AAKxBI,aAAK,EAAE;AACLC,cAAI,EAAE,YADD;AAELC,cAAI,EAAE,SAFD;AAGHC,gBAAM,EAAE,SAHL;AAIHC,yBAAe,EAAE;AAJd;AALiB,OAAT,CAAjB;AAaA,WAAK9D,IAAL,CAAUO,GAAV,CAAcC,QAAd,CAAuB+C,UAAvB;AACD;;;;EA7EsCjF,MAAM,CAAC8D,WAAP,CAAmBC,M;;;;;;;;;;;;;;;;;;;;;;;ACH5D;;;;;;;;;;;;;;;;;;IAEqB0B,S;;;;;AAEnB,qBAAY/D,IAAZ,EAAkBgE,IAAlB,EAAwB;AAAA;;AAAA;;AACtB,8BAAMhE,IAAN,EAAagE,IAAI,CAAC5D,GAAL,GAAWE,oBAAZ,GAAyBA,uBAAY,CAAjD,EAAqD0D,IAAI,CAAC3D,GAAL,GAAWC,oBAAZ,GAAyBA,uBAAY,CAAzF,EAA4F0D,IAAI,CAAC3F,IAAjG,EAAuG,CAAvG;AAEA,UAAK2B,IAAL,GAAYA,IAAZ;AAEA,QAAM2B,KAAK,GAAC3B,IAAI,CAAC2B,KAAjB;AACAA,SAAK,CAACC,MAAN,CAAa;AAACC,SAAG,EAAC,OAAL;AAAcC,YAAM,EAAEH,KAAK,CAACI,oBAAN,CAA2BiC,IAAI,CAAC3F,IAAhC,EAAsC;AAAE2D,aAAK,EAAE,CAAT;AAAYC,WAAG,EAAE;AAAjB,OAAtC,CAAtB;AAAoFC,eAAS,EAAC,EAA9F;AAAkGZ,YAAM,EAAE,CAAC,CAA3G;AAA8G2C,oBAAc,EAAC;AAA7H,KAAb;;AACA,UAAKtC,KAAL,CAAWQ,IAAX,CAAgB,OAAhB,EAPsB,CAStB;;;AACA,UAAKnC,IAAL,CAAUO,GAAV,CAAcC,QAAd;;AACA,UAAKR,IAAL,CAAUJ,OAAV,CAAkBW,GAAlB,CAAsBC,QAAtB;;AAEA,UAAKR,IAAL,CAAU+C,IAAV,CAAemB,QAAf,CAAwB;AACtB9C,WAAK,EAAE,GADe;AACK;AAC3B+C,cAAQ,EAAE,MAAKC,OAAL,CAAaC,IAAb,+BAFY;AAGtBC,mBAAa,+BAHS;AAItBC,UAAI,EAAE;AAJgB,KAAxB;;AAbsB;AAoBvB;;;EAtBoCjG,MAAM,CAAC8D,WAAP,CAAmBC,M;;;;;;;;;;;;;;;;;;;;;ACF1D;;;;;;;;IAEqBmC,I;AAEnB,sBAA8B;AAAA,QAAhBxE,IAAgB,QAAhBA,IAAgB;AAAA,QAAVyE,MAAU,QAAVA,MAAU;;AAAA;;AAC5B,SAAKzE,IAAL,GAAYA,IAAZ;AACA,SAAKyE,MAAL,GAAcA,MAAd;AAEA,SAAKf,KAAL,GAAgB;AAAEC,UAAI,EAAE,YAAR;AAAsBC,UAAI,EAAE,SAA5B;AAAuCc,WAAK,EAAE;AAA9C,KAAhB;AACA,SAAKC,QAAL,GAAgB;AAAEhB,UAAI,EAAE,YAAR;AAAsBC,UAAI,EAAE,SAA5B;AAAuCc,WAAK,EAAE;AAA9C,KAAhB;AAEA,QAAIE,SAAS,GAAI,KAAK5E,IAAL,CAAUO,GAAV,CAAcsE,KAAd,CAAoBvE,uBAAU,CAA9B,EAAiCA,uBAAY,CAA7C,EAAgD,mBAAhD,CAAjB;AACA,SAAKwE,SAAL,GAAiB,KAAK9E,IAAL,CAAUO,GAAV,CAAckD,IAAd,CAAmBnD,uBAAU,CAA7B,EAAgCA,uBAAY,CAA5C,EAA+C,KAAKyE,UAAL,EAA/C,EAAkE,KAAKrB,KAAvE,CAAjB;AACA,SAAK1D,IAAL,CAAUO,GAAV,CAAcC,QAAd,CAAuBoE,SAAvB;AACA,SAAK5E,IAAL,CAAUO,GAAV,CAAcC,QAAd,CAAuB,KAAKsE,SAA5B;AAEA,QAAIE,SAAS,GAAI,KAAKhF,IAAL,CAAUO,GAAV,CAAcsE,KAAd,CAAoBvE,uBAAU,CAA9B,EAAiCA,uBAAY,CAA7C,EAAgD,mBAAhD,CAAjB;AACA,SAAK2E,SAAL,GAAiB,KAAKjF,IAAL,CAAUO,GAAV,CAAckD,IAAd,CAAmBnD,uBAAU,CAA7B,EAAgCA,uBAAY,CAA5C,EAA+C,KAAK4E,UAAL,EAA/C,EAAkE,KAAKxB,KAAvE,CAAjB;AACA,SAAK1D,IAAL,CAAUO,GAAV,CAAcC,QAAd,CAAuBwE,SAAvB;AACA,SAAKhF,IAAL,CAAUO,GAAV,CAAcC,QAAd,CAAuB,KAAKyE,SAA5B;AAEA,QAAIE,SAAS,GAAI,KAAKnF,IAAL,CAAUO,GAAV,CAAcsE,KAAd,CAAoBvE,uBAAU,CAA9B,EAAiCA,uBAAY,CAA7C,EAAgD,kBAAhD,CAAjB;AACA,SAAK8E,SAAL,GAAiB,KAAKpF,IAAL,CAAUO,GAAV,CAAckD,IAAd,CAAmBnD,uBAAU,CAA7B,EAAgCA,uBAAY,CAA5C,EAA+C,KAAK+E,UAAL,EAA/C,EAAkE,KAAK3B,KAAvE,CAAjB;AACA,SAAK1D,IAAL,CAAUO,GAAV,CAAcC,QAAd,CAAuB2E,SAAvB;AACA,SAAKnF,IAAL,CAAUO,GAAV,CAAcC,QAAd,CAAuB,KAAK4E,SAA5B;AAEA,SAAKE,QAAL,GAAgB,KAAKtF,IAAL,CAAUO,GAAV,CAAckD,IAAd,CAAmB,KAAKzD,IAAL,CAAUuF,GAAV,CAAcC,MAAd,CAAqBC,WAArB,GAAiC,CAApD,EAAuD,KAAKzF,IAAL,CAAUuF,GAAV,CAAcC,MAAd,CAAqBC,WAArB,GAAiC,CAAjC,GAAqC,EAA5F,EAAgG,aAAhG,EAA+G,KAAKd,QAApH,CAAhB;AACA,SAAKW,QAAL,CAAcI,SAAd,CAAwB,GAAxB,EAA4B,GAA5B;AACA,SAAKJ,QAAL,CAAcK,OAAd,GAAwB,KAAxB;AACD;;;;WAED,4BAAmB;AACjB,WAAKb,SAAL,CAAerB,IAAf,GAAsB,KAAKsB,UAAL,EAAtB;AACA,WAAKE,SAAL,CAAexB,IAAf,GAAsB,KAAKyB,UAAL,EAAtB;AACA,WAAKE,SAAL,CAAe3B,IAAf,GAAsB,KAAK4B,UAAL,EAAtB;AACD;;;WAED,wBAAe;AACb,WAAKC,QAAL,CAAcK,OAAd,GAAwB,IAAxB;AACD;;;WAED,sBAAa;AACX,aAAO,KAAKlB,MAAL,CAAYmB,KAAnB;AACD;;;WAED,sBAAa;AACX,yBAAY,KAAKnB,MAAL,CAAYoB,KAAxB;AACD;;;WAED,sBAAa;AACX,uBAAU,KAAKpB,MAAL,CAAYrD,KAAZ,GAAoB,IAA9B;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnDH;;AAKA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;IAEqB0E,M;;;;;AAEnB,wBAAuC;AAAA;;AAAA,QAAzB9F,IAAyB,QAAzBA,IAAyB;AAAA,QAAnBG,EAAmB,QAAnBA,EAAmB;AAAA,QAAfqC,KAAe,QAAfA,KAAe;AAAA,QAARC,IAAQ,QAARA,IAAQ;;AAAA;;AACrC,8BAAMzC,IAAN,EAAawC,KAAK,CAACzB,CAAP,GAAYT,uBAAY,CAApC,EAAwCkC,KAAK,CAACzC,CAAP,GAAaO,uBAAY,CAAhE,EAAmE,eAAemC,IAAlF;AAEA,UAAKzC,IAAL,GAAYA,IAAZ;AACA,UAAKG,EAAL,GAAUA,EAAV;AAEA,UAAK4F,YAAL,GAAoB;AAAEhF,OAAC,EAAEyB,KAAK,CAACzB,CAAX;AAAchB,OAAC,EAAEyC,KAAK,CAACzC;AAAvB,KAApB;AAEA,UAAKqB,KAAL,GAAa4E,wBAAb;AACA,UAAKH,KAAL,GAAaI,wBAAb;AACA,UAAKL,KAAL,GAAaM,wBAAb;AACA,UAAKC,aAAL,GAAqB,CAArB;;AAEA,UAAKnG,IAAL,CAAUO,GAAV,CAAcC,QAAd;;AACA,UAAKR,IAAL,CAAUJ,OAAV,CAAkBW,GAAlB,CAAsBC,QAAtB;;AACA,UAAKC,IAAL,CAAUC,QAAV,GAAqB,KAArB;;AAEA,UAAKkC,OAAL,CAAa,EAAb,EAAiB,EAAjB;;AACA,UAAK5C,IAAL,CAAU+C,IAAV,CAAemB,QAAf,CAAwB;AACtB9C,WAAK,EAAE8B,eADe;AACM;AAC5BiB,cAAQ,EAAE,MAAKiC,mBAAL,CAAyB/B,IAAzB,+BAFY;AAGtBC,mBAAa,+BAHS;AAItBC,UAAI,EAAE;AAJgB,KAAxB;;AAOA,QAAM5C,KAAK,GAAC3B,IAAI,CAAC2B,KAAjB;AACAA,SAAK,CAACC,MAAN,CAAa;AAACC,SAAG,EAAC,IAAL;AAAWC,YAAM,EAAEH,KAAK,CAACI,oBAAN,CAA2B,eAAeU,IAA1C,EAAgD;AAAET,aAAK,EAAE,CAAT;AAAYC,WAAG,EAAE;AAAjB,OAAhD,CAAnB;AAA4FC,eAAS,EAAC,EAAtG;AAA0GZ,YAAM,EAAE,CAAC;AAAnH,KAAb;AACAK,SAAK,CAACC,MAAN,CAAa;AAACC,SAAG,EAAC,MAAL;AAAaC,YAAM,EAAEH,KAAK,CAACI,oBAAN,CAA2B,eAAeU,IAA1C,EAAgD;AAAET,aAAK,EAAE,CAAT;AAAYC,WAAG,EAAE;AAAjB,OAAhD,CAArB;AAA6FC,eAAS,EAAC,EAAvG;AAA2GZ,YAAM,EAAE,CAAC;AAApH,KAAb;AACAK,SAAK,CAACC,MAAN,CAAa;AAACC,SAAG,EAAC,OAAL;AAAcC,YAAM,EAAEH,KAAK,CAACI,oBAAN,CAA2B,eAAeU,IAA1C,EAAgD;AAAET,aAAK,EAAE,CAAT;AAAYC,WAAG,EAAE;AAAjB,OAAhD,CAAtB;AAA8FC,eAAS,EAAC,EAAxG;AAA4GZ,YAAM,EAAE,CAAC;AAArH,KAAb;AACAK,SAAK,CAACC,MAAN,CAAa;AAACC,SAAG,EAAC,MAAL;AAAaC,YAAM,EAAEH,KAAK,CAACI,oBAAN,CAA2B,eAAeU,IAA1C,EAAgD;AAAET,aAAK,EAAE,CAAT;AAAYC,WAAG,EAAE;AAAjB,OAAhD,CAArB;AAA6FC,eAAS,EAAC,EAAvG;AAA2GZ,YAAM,EAAE,CAAC;AAApH,KAAb;AAEA,UAAK+E,IAAL,GAAY,IAAI7B,gBAAJ,CAAS;AAAExE,UAAI,EAAE,MAAKA,IAAb;AAAmByE,YAAM;AAAzB,KAAT,CAAZ;;AAEA,UAAK6B,cAAL;;AACA,UAAKzD,UAAL,CAAgBJ,IAAhB;;AACA,UAAK8D,MAAL,GAAY,MAAKvG,IAAL,CAAUwG,QAAV,CAAmBC,GAAnB,CAAuB,UAAvB,CAAZ;AACA,UAAKC,KAAL,GAAW,IAAX;AApCqC;AAqCtC;;;;WAED,kBAAS;AACP,UAAI,KAAKA,KAAT,EAAgB;AACd,aAAKC,WAAL;AACA,aAAKC,WAAL;AACD;AAEF;;;WAED,0BAAiB;AACf,WAAKC,UAAL,GAAmB,KAAK7G,IAAL,CAAU8G,KAAV,CAAgBC,QAAhB,CAAyBC,gBAAzB,EAAnB;AACD;;;WAED,uBAAc;AACZ,WAAKvG,IAAL,CAAUwG,QAAV,CAAmBC,GAAnB,CAAuB,CAAvB;AACA,UAAIC,eAAe,GAAG,EAAtB;;AAEA,UAAI,KAAKN,UAAL,CAAgBO,IAAhB,CAAqBC,MAAzB,EAAgC;AAC9B,aAAK5G,IAAL,CAAUwG,QAAV,CAAmBlG,CAAnB,GAAuB,CAAC,KAAK6E,KAA7B;AACAuB,uBAAe,CAACG,IAAhB,CAAqB,MAArB;AACD,OAHD,MAGO,IAAI,KAAKT,UAAL,CAAgBU,KAAhB,CAAsBF,MAA1B,EAAkC;AACvC,aAAK5G,IAAL,CAAUwG,QAAV,CAAmBlG,CAAnB,GAAuB,KAAK6E,KAA5B;AACAuB,uBAAe,CAACG,IAAhB,CAAqB,OAArB;AACD;;AAED,UAAI,KAAKT,UAAL,CAAgBW,EAAhB,CAAmBH,MAAvB,EAA+B;AAC7B,aAAK5G,IAAL,CAAUwG,QAAV,CAAmBlH,CAAnB,GAAuB,CAAC,KAAK6F,KAA7B;AACAuB,uBAAe,CAACG,IAAhB,CAAqB,IAArB;AACD,OAHD,MAGO,IAAI,KAAKT,UAAL,CAAgBY,IAAhB,CAAqBJ,MAAzB,EAAiC;AACtC,aAAK5G,IAAL,CAAUwG,QAAV,CAAmBlH,CAAnB,GAAuB,KAAK6F,KAA5B;AACAuB,uBAAe,CAACG,IAAhB,CAAqB,MAArB;AACD;;AAED,UAAII,gBAAgB,GAAGP,eAAe,CAAC,CAAD,CAAtC;;AACA,UAAIO,gBAAJ,EAAqB;AACnB,aAAK/F,KAAL,CAAWQ,IAAX,CAAgBuF,gBAAhB;AACA;AACD;;AAED,WAAK/F,KAAL,CAAWgG,IAAX;AACD;;;WAED,uBAAc;AACZ,UAAI,KAAKd,UAAL,CAAgBe,KAAhB,CAAsBP,MAA1B,EAAkC;AAChC,YAAIrE,GAAG,GAAG,KAAKhD,IAAL,CAAU+C,IAAV,CAAeC,GAAzB;;AAEA,YAAIA,GAAG,GAAG,KAAKmD,aAAf,EAA8B;AAC5B,eAAKA,aAAL,GAAqBnD,GAAG,GAAG,KAAK5B,KAAhC;AAEA,eAAKmF,MAAL,CAAYsB,IAAZ,CAAiB,aAAjB,EAAgC;AAAEzH,eAAG,EAAE,KAAK0H,UAAL,EAAP;AAA0BzH,eAAG,EAAE,KAAK0H,UAAL;AAA/B,WAAhC;AACD;AACF;AACF;;;WAED,sBAAa;AACX,aAAOC,IAAI,CAACC,KAAL,CAAW,KAAKxH,IAAL,CAAUM,CAAV,GAAcT,oBAAzB,CAAP;AACD;;;WAED,sBAAa;AACX,aAAO0H,IAAI,CAACC,KAAL,CAAW,KAAKxH,IAAL,CAAUV,CAAV,GAAcO,oBAAzB,CAAP;AACD;;;WAED,+BAAsB;AACpB,UAAIwC,WAAW,GAAG;AAAE/B,SAAC,EAAE,KAAKA,CAAV;AAAahB,SAAC,EAAE,KAAKA;AAArB,OAAlB;;AAEA,UAAI,KAAKgG,YAAL,CAAkBhF,CAAlB,KAAwB+B,WAAW,CAAC/B,CAApC,IAAyC,KAAKgF,YAAL,CAAkBhG,CAAlB,KAAwB+C,WAAW,CAAC/C,CAAjF,EAAoF;AAClF,aAAKwG,MAAL,CAAYsB,IAAZ,CAAiB,wBAAjB,EAA2C/E,WAA3C;AACA,aAAKiD,YAAL,GAAoBjD,WAApB;AACD;AACF;;;WAED,uBAAc;AACZ,WAAK4D,KAAL,GAAW,KAAX;AACA,WAAKL,IAAL,CAAU6B,YAAV;AACA,WAAK9D,OAAL;AACD;;;WAED,mBAAW+D,UAAX,EAAuB;AACrB,UAAKA,UAAU,KAAKC,gBAApB,EAA2B;AAAE,aAAKC,aAAL;AAAsB;;AACnD,UAAKF,UAAU,KAAKG,gBAApB,EAA2B;AAAE,aAAKC,aAAL;AAAsB;;AACnD,UAAKJ,UAAU,KAAKK,gBAApB,EAA2B;AAAE,aAAKC,aAAL;AAAsB;AACpD;;;WAED,yBAAe;AACb,UAAIC,KAAK,GAAG,mBAAZ;;AAEA,UAAI,KAAK9C,KAAL,GAAa+C,oBAAjB,EAA4B;AAC1B,aAAK/C,KAAL,GAAa,KAAKA,KAAL,GAAagD,qBAA1B;AACA,aAAKvC,IAAL,CAAUwC,gBAAV;AACAH,aAAK,GAAG,gBAAR;AACD;;AAED,UAAII,2BAAJ,CAAsB;AAAE9I,YAAI,EAAE,KAAKA,IAAb;AAAmB0I,aAAK,EAAEA,KAA1B;AAAiC3H,SAAC,EAAE,KAAKA,CAAzC;AAA4ChB,SAAC,EAAE,KAAKA;AAApD,OAAtB;AACD;;;WAED,yBAAe;AACb,UAAI2I,KAAK,GAAG,mBAAZ;;AAEA,UAAI,KAAKtH,KAAL,GAAa2H,oBAAjB,EAA2B;AACzB,aAAK3H,KAAL,IAAc4H,qBAAd;AACA,aAAK3C,IAAL,CAAUwC,gBAAV;AACAH,aAAK,GAAG,gBAAR;AACD;;AAED,UAAII,2BAAJ,CAAsB;AAAE9I,YAAI,EAAE,KAAKA,IAAb;AAAmB0I,aAAK,EAAEA,KAA1B;AAAiC3H,SAAC,EAAE,KAAKA,CAAzC;AAA4ChB,SAAC,EAAE,KAAKA;AAApD,OAAtB;AACD;;;WAED,yBAAe;AACb,UAAI2I,KAAK,GAAG,gBAAZ;AAEA,WAAK7C,KAAL,IAAcoD,qBAAd;AACA,WAAK5C,IAAL,CAAUwC,gBAAV;AAEA,UAAIC,2BAAJ,CAAsB;AAAE9I,YAAI,EAAE,KAAKA,IAAb;AAAmB0I,aAAK,EAAEA,KAA1B;AAAiC3H,SAAC,EAAE,KAAKA,CAAzC;AAA4ChB,SAAC,EAAE,KAAKA;AAApD,OAAtB;AACD;;;WAED,oBAAWuD,IAAX,EAAiB;AACf,UAAIC,UAAU,GAAG,IAAIC,cAAJ,CAAS;AACxBxD,YAAI,EAAE,KAAKA,IADa;AAExBe,SAAC,EAAET,uBAAY,CAFS;AAGxBP,SAAC,EAAE,CAAC,EAHoB;AAIxB0D,YAAI,mBAAYH,IAAZ,YAJoB;AAKxBI,aAAK,EAAE;AACLC,cAAI,EAAE,YADD;AAELC,cAAI,EAAE,SAFD;AAGHC,gBAAM,EAAE,SAHL;AAIHC,yBAAe,EAAE;AAJd;AALiB,OAAT,CAAjB;AAaA,WAAK9D,IAAL,CAAUO,GAAV,CAAcC,QAAd,CAAuB+C,UAAvB;AACD;;;;EA3KiCjF,MAAM,CAAC8D,WAAP,CAAmBC,M;;;;;;;;;;;;;;;;;;;;;;;ACRvD;;;;;;;;;;;;;;;;;;IAEqB6G,K;;;;;AAEnB,iBAAYlJ,IAAZ,EAAkBmJ,KAAlB,EAAyB;AAAA;;AAAA;;AAEvB,QAAIhB,UAAJ;;AACA,QAAIgB,KAAK,CAAChB,UAAN,KAAqBK,gBAAzB,EAAgC;AAC9BL,gBAAU,GAAG,CAAb;AACD;;AACD,QAAIgB,KAAK,CAAChB,UAAN,KAAqBG,gBAAzB,EAAgC;AAC9BH,gBAAU,GAAI,CAAd;AACD;;AACD,QAAIgB,KAAK,CAAChB,UAAN,KAAqBC,gBAAzB,EAAgC;AAC9BD,gBAAU,GAAG,CAAb;AACD;;AAED,8BAAMnI,IAAN,EAAamJ,KAAK,CAAC/I,GAAN,GAAYE,oBAAb,GAAyBA,uBAAY,CAAjD,EAAqD6I,KAAK,CAAC9I,GAAN,GAAYC,oBAAb,GAAyBA,uBAAY,CAAzF,EAA4F,eAA5F,EAA6G6H,UAA7G;AAEA,UAAKhI,EAAL,GAAUgJ,KAAK,CAAChJ,EAAhB;AAEAH,QAAI,CAACO,GAAL,CAASC,QAAT;AACAR,QAAI,CAACJ,OAAL,CAAaW,GAAb,CAAiBC,QAAjB;AAlBuB;AAmBxB;;;EArBgClC,MAAM,CAAC8D,WAAP,CAAmBC,M;;;;;;;;;;;;;;;;;;;;;;;;;;;ICFzC+G,K;AACX,mBAAc;AAAA;;AACZ,SAAKC,QAAL,GAAgB,IAAhB;AACA,SAAKC,QAAL,GAAgB,IAAhB;AACA,SAAKC,eAAL,GAAuB,KAAvB;AACD;;;;SAMD,eAAc;AACZ,aAAO,KAAKD,QAAZ;AACD,K;SAND,aAAYrI,KAAZ,EAAmB;AACjB,WAAKqI,QAAL,GAAgBrI,KAAhB;AACD;;;SAUD,eAAc;AACZ,aAAO,KAAKoI,QAAZ;AACD,K;SAND,aAAYpI,KAAZ,EAAmB;AACjB,WAAKoI,QAAL,GAAgBpI,KAAhB;AACD;;;SAUD,eAAqB;AACnB,aAAO,KAAKsI,eAAZ;AACD,K;SAND,aAAmBtI,KAAnB,EAA0B;AACxB,WAAKsI,eAAL,GAAuBtI,KAAvB;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ICzBUuC,I;;;;;AAEX,sBAAgD;AAAA;;AAAA,QAA5BpE,KAA4B,QAAlCY,IAAkC;AAAA,QAArBe,CAAqB,QAArBA,CAAqB;AAAA,QAAlBhB,CAAkB,QAAlBA,CAAkB;AAAA,QAAf0D,IAAe,QAAfA,IAAe;AAAA,QAATC,KAAS,QAATA,KAAS;;AAAA;;AAC9C,8BAAMtE,KAAN,EAAa2B,CAAb,EAAgBhB,CAAhB,EAAmB0D,IAAnB,EAAyBC,KAAzB;;AACA,UAAKgC,SAAL,CAAe,GAAf,EAAoB,GAApB;;AAEAtG,SAAK,CAACmB,GAAN,CAAUC,QAAV;AAJ8C;AAK/C;;;EAPuBlC,MAAM,CAAC8D,WAAP,CAAmBoB,I;;;;IAWhCgG,M;;;;;AAEX,yBAAuG;AAAA;;AAAA,QAAzFxJ,IAAyF,SAAzFA,IAAyF;AAAA,QAAnFe,CAAmF,SAAnFA,CAAmF;AAAA,QAAhFhB,CAAgF,SAAhFA,CAAgF;AAAA,QAA7E2I,KAA6E,SAA7EA,KAA6E;AAAA,QAAtEvE,QAAsE,SAAtEA,QAAsE;AAAA,QAA5DsF,eAA4D,SAA5DA,eAA4D;AAAA,QAA3CC,SAA2C,SAA3CA,SAA2C;AAAA,QAAhCC,QAAgC,SAAhCA,QAAgC;AAAA,QAAtBC,SAAsB,SAAtBA,SAAsB;AAAA,QAAXC,OAAW,SAAXA,OAAW;;AAAA;;AACrG,gCAAM7J,IAAN,EAAYe,CAAZ,EAAehB,CAAf,EAAkB2I,KAAlB,EAAyBvE,QAAzB,EAAmCsF,eAAnC,EAAoDC,SAApD,EAA+DC,QAA/D,EAAyEC,SAAzE,EAAoFC,OAApF;;AACA,WAAKnE,SAAL,CAAe,GAAf,EAAoB,GAApB;;AAEA1F,QAAI,CAACO,GAAL,CAASC,QAAT;AAJqG;AAKtG;;;EAPyBlC,MAAM,CAACwL,KAAP,CAAaC,OAAb,CAAqBP,M;;;;IAWpCQ,U;;;;;AACX,6BAAqH;AAAA;;AAAA,QAAvGhK,IAAuG,SAAvGA,IAAuG;AAAA,QAAjGe,CAAiG,SAAjGA,CAAiG;AAAA,QAA9FhB,CAA8F,SAA9FA,CAA8F;AAAA,QAA3F2I,KAA2F,SAA3FA,KAA2F;AAAA,QAApFvE,QAAoF,SAApFA,QAAoF;AAAA,QAA1EsF,eAA0E,SAA1EA,eAA0E;AAAA,QAAzDI,OAAyD,SAAzDA,OAAyD;AAAA,QAAhDF,QAAgD,SAAhDA,QAAgD;AAAA,QAAtCD,SAAsC,SAAtCA,SAAsC;AAAA,QAA3BE,SAA2B,SAA3BA,SAA2B;AAAA,QAAhBK,KAAgB,SAAhBA,KAAgB;AAAA,QAATvG,KAAS,SAATA,KAAS;;AAAA;;AAEnH;AACA,QAAI,CAAC1D,IAAL,EAAW;AACTkK,aAAO,CAACC,GAAR,CAAY,eAAZ;AACA;AACD,KANkH,CAOnH;;;AACA,QAAI,CAACzB,KAAL,EAAY;AACVwB,aAAO,CAACC,GAAR,CAAY,cAAZ;AACA;AACD,KAXkH,CAYnH;;;AACA,QAAI,CAACN,OAAL,EAAc;AACZA,aAAO,GAAG,CAAV;AACD,KAfkH,CAgBnH;;;AACA,QAAI,CAACD,SAAL,EAAgB;AACdA,eAAS,GAAGC,OAAZ;AACD,KAnBkH,CAoBnH;;;AACA,QAAI,CAACH,SAAL,EAAgB;AACdA,eAAS,GAAGG,OAAZ;AACD,KAvBkH,CAwBnH;AACA;AACA;;;AACA,gCAAM7J,IAAN,EAAY,CAAZ,EAAe,CAAf,EAAkB0I,KAAlB,EAAyBmB,OAAzB;AAEA,WAAKO,KAAL,GAAapK,IAAI,CAACwG,QAAL,CAAcC,GAAd,CAAkB,OAAlB,CAAb,CA7BmH,CA+BnH;;AACA,WAAKrH,KAAL,GAAaY,IAAb;AACA,WAAK0I,KAAL,GAAaA,KAAb;AACA,WAAKvE,QAAL,GAAgBA,QAAhB;AACA,WAAKsF,eAAL,GAAuBA,eAAvB;AACA,WAAKI,OAAL,GAAeA,OAAf;AACA,WAAKF,QAAL,GAAgBA,QAAhB;AACA,WAAKD,SAAL,GAAiBA,SAAjB;AACA,WAAKE,SAAL,GAAiBA,SAAjB;AACA,WAAKS,MAAL,GAAc,IAAd,CAxCmH,CA0CnH;;AACA,QAAItJ,CAAJ,EAAO;AACL,aAAKA,CAAL,GAASA,CAAT;AACD,KA7CkH,CA8CnH;;;AACA,QAAIhB,CAAJ,EAAO;AACL,aAAKA,CAAL,GAASA,CAAT;AACD;;AAED,WAAKuK,KAAL,GAAa,IAAIhM,MAAM,CAAC8D,WAAP,CAAmBoB,IAAvB,CAA4BxD,IAA5B,EAAkCe,CAAlC,EAAqChB,CAArC,EAAwCkK,KAAxC,EAA+CvG,KAA/C,CAAb;;AACA,WAAK4G,KAAL,CAAW5E,SAAX,CAAqB,GAArB,EAA0B,GAA1B,EApDmH,CAsDnH;;;AACA1F,QAAI,CAACO,GAAL,CAASC,QAAT;AACAR,QAAI,CAACO,GAAL,CAASC,QAAT,CAAkB,OAAK8J,KAAvB,EAxDmH,CAyDnH;AACA;;AACA,WAAKC,cAAL;;AACA,WAAKC,EAAL,CAAQ,aAAR,EAAuB,OAAKC,MAA5B;;AACA,WAAKD,EAAL,CAAQ,WAAR,EAAqB,OAAKE,IAA1B;;AACA,WAAKF,EAAL,CAAQ,aAAR,EAAuB,OAAKG,MAA5B;;AACA,WAAKH,EAAL,CAAQ,YAAR,EAAsB,OAAKE,IAA3B;;AA/DmH;AAgEpH;;;;WAED,oBAAW;AACT,WAAKE,QAAL,CAAc,KAAKhB,SAAnB;AACA,WAAKS,MAAL,GAAc,IAAd;AACA,WAAK1E,OAAL,GAAgB,IAAhB;AACA,WAAK2E,KAAL,CAAW3E,OAAX,GAAsB,IAAtB;AACD;;;WAED,uBAAc;AACZ,WAAKiF,QAAL,CAAc,KAAKjB,QAAnB;AACA,WAAKU,MAAL,GAAc,KAAd;AACA,WAAK1E,OAAL,GAAgB,KAAhB;AACA,WAAK2E,KAAL,CAAW3E,OAAX,GAAsB,KAAtB;AACD;;;WAED,kBAAS;AACP,UAAI,KAAK0E,MAAL,IAAe,KAAnB,EAA0B;;AAE1B,UAAI,KAAKD,KAAL,CAAWS,OAAX,KAAuB,IAA3B,EAAiC;AAC/B,YAAIC,SAAS,GAAG,KAAK1L,KAAL,CAAW2L,KAAX,CAAiBxK,GAAjB,CAAqB,WAArB,EAAkC;AAAEyK,gBAAM,EAAE,GAAV;AAAezG,cAAI,EAAE;AAArB,SAAlC,CAAhB;AACAuG,iBAAS,CAAC3I,IAAV;AACD;;AAED,WAAKyI,QAAL,CAAc,KAAKhB,SAAnB;AACA,UAAIqB,kBAAkB,GAAG,KAAK9G,QAAL,CAAcE,IAAd,CAAmB,KAAKoF,eAAxB,CAAzB;AACAwB,wBAAkB;AACnB;;;WAED,kBAAS;AACP,UAAI,KAAKZ,MAAL,IAAe,KAAnB,EAA0B;AAC1B,WAAKO,QAAL,CAAc,KAAKlB,SAAnB;AACD;;;WAED,gBAAO;AACL,UAAI,KAAKW,MAAL,IAAe,KAAnB,EAA0B;AAC1B,WAAKO,QAAL,CAAc,KAAKf,OAAnB;AACD;;;WACD,iBAAQ;AACN,UAAI,KAAKQ,MAAL,IAAe,KAAnB,EAA0B;AAC1B,WAAKO,QAAL,CAAc,KAAKjB,QAAnB;AACD;;;;EA1G6BrL,MAAM,CAAC8D,WAAP,CAAmBC,M;;;;IA6GtC6I,S;;;;;AAEX,4BAA8E;AAAA;;AAAA,QAAhElL,IAAgE,SAAhEA,IAAgE;AAAA,QAA1DmL,cAA0D,SAA1DA,cAA0D;AAAA,QAA1ChH,QAA0C,SAA1CA,QAA0C;AAAA,QAAhCsF,eAAgC,SAAhCA,eAAgC;AAAA,QAAf1I,CAAe,SAAfA,CAAe;AAAA,QAAZhB,CAAY,SAAZA,CAAY;AAAA,QAAT2D,KAAS,SAATA,KAAS;;AAAA;;AAC5E,gCAAM1D,IAAN;AAEA,QAAIoL,eAAe,GAAG,eAAtB;AACA,QAAIC,gBAAgB,GAAG,WAAvB;AAEA,QAAIC,OAAO,GAAGvL,CAAd;AACA,QAAIwL,MAAM,GAAC,CAAX;;AAP4E,+CASlDJ,cATkD;AAAA;;AAAA;AAS5E,0DAA0C;AAAA,YAAjCK,aAAiC;AACxC,YAAIC,OAAO,GAAG,IAAInN,MAAM,CAAC8D,WAAP,CAAmBsJ,KAAvB,CAA6B1L,IAA7B,EAAmCe,CAAC,GAAC,GAArC,EAA0CuK,OAAO,GAAC,CAAlD,EAAqDF,eAArD,CAAd;AACA,YAAIO,MAAM,GAAG,IAAI3B,UAAJ,CAAe;AAC1BhK,cAAI,EAAEA,IADoB;AAE1Be,WAAC,EAAEA,CAAC,GAAC,GAFqB;AAG1BhB,WAAC,EAAEuL,OAAO,GAAC,CAHe;AAI1B5C,eAAK,EAAE2C,gBAJmB;AAK1BlH,kBAAQ,EAAEA,QAAQ,CAACE,IAAT,CAAcoF,eAAd,EAA+B;AAAEmC,mBAAO,EAAEJ,aAAa,CAACrL;AAAzB,WAA/B,CALgB;AAM1BsJ,yBAAe,EAAE,IANS;AAO1BI,iBAAO,EAAE,CAPiB;AAQ1BH,mBAAS,EAAE,CARe;AAS1BE,mBAAS,EAAE,CATe;AAU1BD,kBAAQ,EAAE,CAVgB;AAW1BM,eAAK,EAAE;AAXmB,SAAf,CAAb;AAYA,YAAIxG,IAAI,GAAG,IAAInF,MAAM,CAAC8D,WAAP,CAAmBoB,IAAvB,CAA4BxD,IAA5B,EAAkCe,CAAC,GAAC,EAApC,EAAwCuK,OAAO,GAAC,EAAhD,uBAAkEE,aAAa,CAAClI,IAAhF,GAAwFI,KAAxF,CAAX;;AAEA,eAAKnD,GAAL,CAASkL,OAAT;;AACA,eAAKlL,GAAL,CAASoL,MAAT;;AACA,eAAKpL,GAAL,CAASkD,IAAT;;AACAzD,YAAI,CAACO,GAAL,CAASC,QAAT,CAAkBiL,OAAlB;AACAzL,YAAI,CAACO,GAAL,CAASC,QAAT,CAAkBmL,MAAlB;AACA3L,YAAI,CAACO,GAAL,CAASC,QAAT,CAAkBiD,IAAlB;AAEA6H,eAAO,IAAI,GAAX;AACAC,cAAM;AACN,YAAIA,MAAM,IAAE,CAAZ,EAAe;AAChB;AAnC2E;AAAA;AAAA;AAAA;AAAA;;AAAA;AAoC7E;;;;WAED,mBAAU,CACT;;;;EAzC4BjN,MAAM,CAAC8D,WAAP,CAAmByJ,S;;;;IA4CrCC,W;;;;;AAEX,8BAAoF;AAAA;;AAAA,QAAtE9L,IAAsE,SAAtEA,IAAsE;AAAA,QAAhE+L,WAAgE,SAAhEA,WAAgE;AAAA,QAAnDC,OAAmD,SAAnDA,OAAmD;AAAA,QAA1CjL,CAA0C,SAA1CA,CAA0C;AAAA,QAAvChB,CAAuC,SAAvCA,CAAuC;AAAA,QAApCkM,WAAoC,SAApCA,WAAoC;AAAA,QAAvBC,YAAuB,SAAvBA,YAAuB;AAAA,QAATxI,KAAS,SAATA,KAAS;;AAAA;;AAClF,gCAAM1D,IAAN;AAEA,QAAImM,OAAO,GAAGpL,CAAd;AACA,QAAIqL,OAAO,GAAGrM,CAAd;;AAEA,SAAK,IAAIsM,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGN,WAApB,EAAiCM,CAAC,EAAlC,EAAsC;AACpC,UAAIC,OAAO,SAAX;AACA,UAAIC,QAAQ,SAAZ;AACA,UAAIC,OAAO,GAAGR,OAAO,CAACK,CAAD,CAArB;;AAEA,UAAIG,OAAJ,EAAa;AACXF,eAAO,GAAG,IAAIhO,MAAM,CAAC8D,WAAP,CAAmBsJ,KAAvB,CAA6B1L,IAA7B,EAAmCmM,OAAnC,EAA4CC,OAA5C,EAAqDF,YAAY,GAAGM,OAAO,CAAC/J,IAA5E,CAAV;AACA8J,gBAAQ,GAAG,IAAIjO,MAAM,CAAC8D,WAAP,CAAmBoB,IAAvB,CAA4BxD,IAA5B,EAAkCmM,OAAlC,EAA2CC,OAAO,GAAC,EAAnD,EAAwDI,OAAO,CAAC/J,IAAhE,EAAsEiB,KAAtE,CAAX;AACA6I,gBAAQ,CAAC7G,SAAT,CAAmB,GAAnB,EAAwB,CAAxB;;AACA,eAAKnF,GAAL,CAAS+L,OAAT;;AACA,eAAK/L,GAAL,CAASgM,QAAT;AACD,OAND,MAMO;AACLD,eAAO,GAAG,IAAIhO,MAAM,CAAC8D,WAAP,CAAmBsJ,KAAvB,CAA6B1L,IAA7B,EAAmCmM,OAAnC,EAA4CC,OAA5C,EAAqDH,WAArD,CAAV;;AACA,eAAK1L,GAAL,CAAS+L,OAAT;AACD;;AACDH,aAAO,IAAI,GAAX;;AACA,UAAIE,CAAC,IAAE,CAAP,EAAU;AACRF,eAAO,GAAGpL,CAAV;AACAqL,eAAO,GAACA,OAAO,GAAEE,OAAO,CAAC5N,MAAjB,GAAyB,EAAjC;AACD;AACF;;AACDsB,QAAI,CAACO,GAAL,CAASC,QAAT;AA3BkF;AA4BnF;;;EA9B8BlC,MAAM,CAAC8D,WAAP,CAAmByJ,S;;;;IAkCvC/C,iB;;;;;AAEX,oCAAmC;AAAA;;AAAA,QAArB9I,IAAqB,SAArBA,IAAqB;AAAA,QAAf0I,KAAe,SAAfA,KAAe;AAAA,QAAR3H,CAAQ,SAARA,CAAQ;AAAA,QAALhB,CAAK,SAALA,CAAK;;AAAA;;AACjC,gCAAMC,IAAN;AAEA,WAAKyM,OAAL,GAAezM,IAAI,CAACO,GAAL,CAASsE,KAAT,CAAe9D,CAAf,EAAkBhB,CAAC,GAAG,EAAtB,EAA0B2I,KAA1B,EAAiCgE,QAAjC,CAA0C,CAA1C,CAAf;;AACA,WAAKD,OAAL,CAAa/G,SAAb,CAAuB,GAAvB,EAA2B,GAA3B;;AAEA,WAAKnF,GAAL,CAAS,OAAKkM,OAAd;;AAEA,WAAK9L,KAAL,GAAaX,IAAI,CAACY,MAAL,CAAYL,GAAZ,CAAgB;AAC3BM,aAAO,EAAE,OAAK4L,OADa;AAE3B1M,OAAC,EAAE,OAAK0M,OAAL,CAAa1M,CAAb,GAAiB,EAFO;AAG3BiB,WAAK,EAAE;AAAEC,aAAK,EAAE,CAAT;AAAYC,gBAAQ,EAAE,IAAtB;AAA4BC,YAAI,EAAE,QAAlC;AAA4CC,aAAK,EAAE;AAAnD,OAHoB;AAI3BF,cAAQ,EAAE;AAJiB,KAAhB,CAAb;;AAMA,WAAKP,KAAL,CAAW6J,EAAX,CAAc,UAAd,EAA0B,OAAKmC,MAAL,CAAYtI,IAAZ,gCAA1B;;AAdiC;AAelC;;;;WAED,kBAAS;AACP6F,aAAO,CAACC,GAAR,CAAY,6BAAZ;AACA,WAAKsC,OAAL,CAAarI,OAAb;AACA,WAAKA,OAAL;AACD;;;;EAvBoC9F,MAAM,CAAC8D,WAAP,CAAmBwK,K;;;AA0B1D,IAAMC,aAAa,GAAG,QAAtB;AACA,IAAMC,WAAW,GAAG,QAApB;AACA,IAAMC,UAAU,GAAG,QAAnB;AAEA;AACA;AACA;AACA;AACA;AACA;;IACaC,S;;;;;AAEX;AACF;AACA;AACA;AACA;AACE,4BAA6B;AAAA;;AAAA,QAAf5N,KAAe,SAAfA,KAAe;AAAA,QAAR2B,CAAQ,SAARA,CAAQ;AAAA,QAALhB,CAAK,SAALA,CAAK;;AAAA;;AAC3B,gCAAMX,KAAN;AAEA,WAAK6N,QAAL,GAAc,IAAd;AAEA,WAAK7O,MAAL,GAAc;AACZkF,UAAI,EAAE,SADM;AAEZ4J,UAAI,EAAE,CACJ;AAAE5J,YAAI,EAAE,KAAR;AAAe6J,WAAG,EAAE,SAApB;AAA+BC,iBAAS,EAAE;AAA1C,OADI,EAEJ;AAAE9J,YAAI,EAAE,MAAR;AAAgB6J,WAAG,EAAE,UAArB;AAAiCC,iBAAS,EAAE;AAA5C,OAFI;AAFM,KAAd;AAQA,WAAKC,eAAL,GAAuBjO,KAAK,CAACkO,KAAN,CAAY/M,GAAZ,CAAgB8M,eAAhB,CAAgC;AACrDtM,OAAC,EAAEA,CADkD;AAErDhB,OAAC,EAAEA,CAFkD;AAGrDtB,WAAK,EAAE,GAH8C;AAIrDC,YAAM,EAAE,GAJ6C;AAKrD6O,gBAAU,EAAE,CALyC;AAMrDC,gBAAU,EAAEpO,KAAK,CAACkO,KAAN,CAAY/M,GAAZ,CAAgBkN,cAAhB,CAA+B,CAA/B,EAAkC,CAAlC,EAAqC,CAArC,EAAwC,CAAxC,EAA2C,EAA3C,EAA+CZ,aAA/C,CANyC;AAOrDa,WAAK,EAAE;AACLC,aAAK,EAAE,OAAKC,WAAL,CAAiBxO,KAAjB,EAAwB,OAAKhB,MAA7B,iCADF;AAELyP,YAAI,EAAE;AAAEC,iBAAO,EAAE;AAAX;AAFD,OAP8C;AAWrDC,YAAM,EAAE;AACNC,aAAK,EAAE5O,KAAK,CAACkO,KAAN,CAAY/M,GAAZ,CAAgBkN,cAAhB,CAA+B,CAA/B,EAAkC,CAAlC,EAAqC,EAArC,EAAyC,EAAzC,EAA6C,EAA7C,EAAiDV,UAAjD,CADD;AAENkB,aAAK,EAAE7O,KAAK,CAACkO,KAAN,CAAY/M,GAAZ,CAAgBkN,cAAhB,CAA+B,CAA/B,EAAkC,CAAlC,EAAqC,CAArC,EAAwC,CAAxC,EAA2C,EAA3C,EAA+CX,WAA/C;AAFD,OAX6C;AAerDlF,WAAK,EAAE;AAAER,YAAI,EAAE,EAAR;AAAYG,aAAK,EAAE,EAAnB;AAAuB2G,WAAG,EAAE,EAA5B;AAAgCC,cAAM,EAAE,EAAxC;AAA4CT,aAAK,EAAE;AAAnD;AAf8C,KAAhC,EAgBpBU,MAhBoB,EAAvB,CAb2B,CA8B3B;;AAEA,QAAIC,MAAM,GAAG,EAAb;AACAjP,SAAK,CAAC0H,KAAN,CAAYwH,OAAZ,GAAsB,KAAtB;AACAD,UAAM,CAAC/G,IAAP,OAAA+G,MAAM,qBAAU,OAAKhB,eAAN,CAAuBkB,UAAvB,CAAkC,aAAlC,EAAiD,IAAjD,CAAT,EAAN;AACAF,UAAM,CAACG,OAAP,CAAe,UAAUvE,KAAV,EAAiB;AAC9B,UAAI,CAACA,KAAL,EAAY;AAAC;AAAS;;AACtB,UAAIwE,KAAK,GAAGrP,KAAK,CAACkO,KAAN,CAAY/M,GAAZ,CAAgBkO,KAAhB,CAAsBxE,KAAtB,EAA4B,EAA5B,EAAkCO,EAAlC,CAAqC,OAArC,EAA8C,YAAY;AACpEP,aAAK,CAACsE,UAAN,CAAiB,MAAjB,EAAyBG,QAAzB,CAAkC,KAAlC;AACAxE,eAAO,CAACC,GAAR,CAAY,mBAAiBF,KAAK,CAACsE,UAAN,CAAiB,MAAjB,EAAyBjL,IAAtD;AACA2G,aAAK,CAAC8D,MAAN,CAAad,QAAb,GAAsBhD,KAAK,CAACsE,UAAN,CAAiB,MAAjB,EAAyBjL,IAA/C;AAEA,aAAK8G,KAAL,GAAaH,KAAK,CAAC8D,MAAN,CAAa3O,KAAb,CAAmBoH,QAAnB,CAA4BC,GAA5B,CAAgC,OAAhC,CAAb;;AACA,YAAI,KAAK2D,KAAL,CAAWS,OAAX,KAAuB,IAA3B,EAAiC;AAC/B,cAAIC,SAAS,GAAGb,KAAK,CAAC8D,MAAN,CAAa3O,KAAb,CAAmB2L,KAAnB,CAAyBxK,GAAzB,CAA6B,WAA7B,EAA0C;AAAEyK,kBAAM,EAAE,GAAV;AAAezG,gBAAI,EAAE;AAArB,WAA1C,CAAhB;AACAuG,mBAAS,CAAC3I,IAAV;AACD;AACF,OAVW,CAAZ;AAWD,KAbD;AAnC2B;AAkD5B;AAED;AACF;AACA;AACA;AACA;AACA;AACA;;;;;WACE,qBAAY/C,KAAZ,EAAmBuP,IAAnB,EAAwBZ,MAAxB,EAAgC;AAC9B,UAAIa,KAAK,GAAGxP,KAAK,CAACkO,KAAN,CAAY/M,GAAZ,CAAgBqO,KAAhB,CAAsB;AAAEC,mBAAW,EAAE,GAAf;AAAoBjH,aAAK,EAAE;AAAEkH,cAAI,EAAE;AAAR,SAA3B;AAAyCxL,YAAI,EAAC;AAA9C,OAAtB,CAAZ,CAD8B,CAE9B;;AACA,WAAK,IAAI+I,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAIsC,IAAI,CAAC,MAAD,CAAL,CAAeI,MAAnC,EAA2C1C,CAAC,EAA5C,EAAgD;AAC9C,YAAIc,GAAG,GAAE/N,KAAK,CAACkO,KAAN,CAAY/M,GAAZ,CAAgByO,eAAhB,CAAgC,CAAhC,EAAmC,CAAnC,EAAuCL,IAAI,CAAC,MAAD,CAAL,CAAetC,CAAf,EAAkBe,SAAxD,EAAmE;AAAE6B,kBAAQ,EAAE,gBAAZ;AAA8BC,gBAAM,EAAE;AAAtC,SAAnE,CAAT;AACA,YAAMpC,YAAW,GAAG,QAApB;AACAK,WAAG,CAAC7J,IAAJ,GAAUqL,IAAI,CAAC,MAAD,CAAL,CAAetC,CAAf,EAAkBc,GAA3B;AACA,YAAIlD,KAAK,GAAG7K,KAAK,CAACkO,KAAN,CAAY/M,GAAZ,CAAgB0J,KAAhB,CAAsB;AAChC4E,qBAAW,EAAE,GADmB;AAEhCM,cAAI,EAAEhC,GAF0B;AAGhC1J,cAAI,EAAErE,KAAK,CAACmB,GAAN,CAAUkD,IAAV,CAAe,CAAf,EAAkB,CAAlB,EAAqB0J,GAAG,CAAC7J,IAAzB,CAH0B;AAIhCsE,eAAK,EAAE;AAAEuH,gBAAI,EAAE;AAAR;AAJyB,SAAtB,CAAZ;AAMAlF,aAAK,CAAC8D,MAAN,GAAaA,MAAb;AACAa,aAAK,CAACrO,GAAN,CAAU0J,KAAV,EAAgB;AAACpI,aAAG,EAAEsL,GAAG,CAAC7J;AAAV,SAAhB;AACD;;AACD,aAAOsL,KAAP;AACD;;;WAED,kBAAS;AACP1E,aAAO,CAACC,GAAR,CAAY,mBAAZ;AACD;;;WAED,mBAAS;AACP,WAAKkD,eAAL,CAAqBjJ,OAArB;AACD;;;;EA3F4B9F,MAAM,CAAC8D,WAAP,CAAmBwK,K;;;;;;;;;;;;;;;;;;;;;;;ACrPlD;;AACA;;;;;;;;;;;;;;;;;;;;;;IAEavN,I;;;;;;;;;;;;;WAmBX,kBAAS;AACP6K,aAAO,CAACC,GAAR,CAAY,mBAAZ;AACA,WAAK3D,QAAL,CAAcU,GAAd,CAAkB,OAAlB,EAA2B,IAAIkC,YAAJ,EAA3B;AACA,WAAK5C,QAAL,CAAcU,GAAd,CAAkB,UAAlB,EAA8BkI,EAAE,EAAhC;AACA,WAAKhQ,KAAL,CAAW4C,KAAX,CAAiB,SAAjB;AACAkI,aAAO,CAACC,GAAR,CAAY,kBAAZ;AACD;;;;EAzBuB7L,MAAM,CAAC+Q,K;;;eA6BlBhQ,I;;;;;;;;;;;;;;;;;;;;;;AChCf;;;;;;;;;;;;;;;;;;;;;;IAEME,I;;;;;AAEJ,kBAAe;AAAA;;AAAA,6BACL,MADK;AAEd;;;;WAED,cAAKoP,IAAL,EAAW;AACT,WAAKW,aAAL,GAAqB,IAArB;AACA,WAAK/I,MAAL,GAAY,KAAKC,QAAL,CAAcC,GAAd,CAAkB,UAAlB,CAAZ;AAEA,WAAKF,MAAL,CAAYiE,EAAZ,CAAe,uBAAf,EAAwC,KAAK+E,mBAAL,CAAyBlL,IAAzB,CAA8B,IAA9B,CAAxC;AACD;;;WAED,kBAAS;AACP,UAAImJ,UAAU,GAAG,KAAKjN,GAAL,CAASsE,KAAT,CAAe,KAAKU,GAAL,CAASC,MAAT,CAAgBC,WAAhB,GAA4B,CAA3C,EAA8C,KAAKF,GAAL,CAASC,MAAT,CAAgBgK,YAAhB,GAA6B,CAA3E,EAA8E,WAA9E,CAAjB;AACAhC,gBAAU,CAAC9H,SAAX,CAAqB,GAArB,EAAyB,GAAzB;AAGA,UAAIlC,cAAJ,CAAS;AACPxD,YAAI,EAAE,IADC;AAEPe,SAAC,EAAE,KAAKwE,GAAL,CAASC,MAAT,CAAgBC,WAAhB,GAA4B,CAFxB;AAGP1F,SAAC,EAAE,KAAKwF,GAAL,CAASC,MAAT,CAAgBgK,YAAhB,GAA6B,CAA7B,GAAiC,GAH7B;AAIP/L,YAAI,EAAE,WAJC;AAKPC,aAAK,EAAE;AACLC,cAAI,EAAE,YADD;AAELC,cAAI,EAAE,SAFD;AAGLC,gBAAM,EAAE,SAHH;AAILC,yBAAe,EAAE;AAJZ;AALA,OAAT;AAaA,UAAI6H,MAAM,GAAG,IAAI3B,oBAAJ,CAAe;AAC1BhK,YAAI,EAAE,IADoB;AAE1Be,SAAC,EAAE,KAAKwE,GAAL,CAASC,MAAT,CAAgBC,WAAhB,GAA4B,CAFL;AAG1B1F,SAAC,EAAE,KAAKwF,GAAL,CAASC,MAAT,CAAgBgK,YAAhB,GAA6B,CAA7B,GAAiC,GAHV;AAI1B9G,aAAK,EAAC,SAJoB;AAK1BvE,gBAAQ,EAAE,KAAKsL,cALW;AAM1BhG,uBAAe,EAAE,IANS;AAO1BI,eAAO,EAAE,CAPiB;AAQ1BH,iBAAS,EAAC,CARgB;AAS1BE,iBAAS,EAAC,CATgB;AAU1BD,gBAAQ,EAAC,CAViB;AAW1BM,aAAK,EAAE,UAXmB;AAY1BvG,aAAK,EAAE;AACLC,cAAI,EAAE,YADD;AAELC,cAAI,EAAE;AAFD;AAZmB,OAAf,CAAb;AAiBA,WAAK2C,MAAL,CAAYsB,IAAZ,CAAiB,aAAjB,EAAgC,KAAK0H,mBAAL,CAAyBlL,IAAzB,CAA8B,IAA9B,CAAhC;AAEA,WAAK+F,KAAL,GAAa,KAAK5D,QAAL,CAAcC,GAAd,CAAkB,OAAlB,CAAb;;AACA,UAAI,CAAC,KAAK2D,KAAL,CAAWsF,cAAZ,KAA+B,KAA/B,IAAwC,EAAE,KAAKtF,KAAL,CAAWuF,OAAX,IAAoB,WAAtB,CAA5C,EAA+E;AAC7E,aAAK5E,KAAL,CAAW6E,SAAX,CAAqB,KAAKxF,KAAL,CAAWuF,OAAhC;AACA,aAAKvF,KAAL,CAAWsF,cAAX,GAA4B,KAA5B;AACA,aAAKlJ,QAAL,CAAcU,GAAd,CAAkB,OAAlB,EAA2B,KAAKyI,OAAhC;AACD;;AACD,UAAI,KAAKvF,KAAL,CAAWyF,OAAX,KAAuB,IAAvB,IAA+B,KAAKzF,KAAL,CAAWsF,cAAX,KAA8B,KAAjE,EAAwE;AACtE,aAAKC,OAAL,GAAe,KAAK5E,KAAL,CAAWxK,GAAX,CAAe,WAAf,EAA4B;AAAEyK,gBAAM,EAAE,GAAV;AAAezG,cAAI,EAAE;AAArB,SAA5B,CAAf;AACA,aAAKoL,OAAL,CAAaxN,IAAb;AACA,aAAKiI,KAAL,CAAWsF,cAAX,GAA4B,IAA5B;AACA,aAAKtF,KAAL,CAAWuF,OAAX,GAAmB,WAAnB;AACA,aAAKnJ,QAAL,CAAcU,GAAd,CAAkB,OAAlB,EAA2B,KAAKkD,KAAhC;AACD;AACF;;;WAED,kBAAS,CAIR;;;WAED,0BAAiB;AACf,WAAK7D,MAAL,CAAYsB,IAAZ,CAAiB,aAAjB;AACA,WAAKzI,KAAL,CAAW4C,KAAX,CAAiB,WAAjB;AACD;;;WAED,6BAAoBmJ,cAApB,EAAoC;AAClC;AACA;AAEA;AACA,UAAI,KAAKmE,aAAT,EAAwB;AACtB,aAAKA,aAAL,CAAmBlL,OAAnB;AACD;;AAED,WAAKkL,aAAL,GAAqB,IAAIpE,mBAAJ,CAAc;AACjClL,YAAI,EAAE,IAD2B;AAEjCmL,sBAAc,EAAEA,cAFiB;AAGjChH,gBAAQ,EAAE,KAAK2L,cAHkB;AAIjCrG,uBAAe,EAAE,IAJgB;AAKjC1I,SAAC,EAAE,KAAKwE,GAAL,CAASC,MAAT,CAAgBC,WAAhB,GAA4B,CAA5B,GAAgC,GALF;AAMjC1F,SAAC,EAAE,KAAKwF,GAAL,CAASC,MAAT,CAAgBgK,YAAhB,GAA6B,CAA7B,GAAgC,GANF;AAOjC9L,aAAK,EAAE;AACLC,cAAI,EAAE,YADD;AAELC,cAAI,EAAE,SAFD;AAGLC,gBAAM,EAAE,SAHH;AAILC,yBAAe,EAAE;AAJZ;AAP0B,OAAd,CAArB;AAcD;;;WAED,wBAAe8H,OAAf,EAAwB;AACtB,WAAKrF,MAAL,CAAYsB,IAAZ,CAAiB,aAAjB;AACAqC,aAAO,CAACC,GAAR,CAAY,oBAAkByB,OAAO,CAACA,OAAtC;AACA,WAAKxM,KAAL,CAAW4C,KAAX,CAAiB,aAAjB,EAAgC4J,OAAhC;AACD;;;;EAzGgBtN,MAAM,CAAC+Q,K;;eA4GX9P,I;;;;;;;;;;;;;;;;;;;;;;AC9Gf;;;;;;;;;;;;;;;;;;;;;;IAEME,W;;;;;AAEJ,yBAAe;AAAA;;AAAA,6BACP,aADO;AAEd;;;;WAED,oBAAkB;AAAA,UAAXmM,OAAW,QAAXA,OAAW;AAChB,WAAKrF,MAAL,GAAY,KAAKC,QAAL,CAAcC,GAAd,CAAkB,UAAlB,CAAZ;AACA,WAAKsJ,eAAL,GAAuB,IAAvB;AACA,WAAKC,WAAL,GAAiB,CAAjB;AAEA,WAAKpE,OAAL,GAAeA,OAAf;AAEA,WAAKrF,MAAL,CAAYsB,IAAZ,CAAiB,oBAAjB,EAAuC;AAAE+D,eAAO,EAAE,KAAKA;AAAhB,OAAvC;AACA,WAAKxB,KAAL,GAAa,KAAK5D,QAAL,CAAcC,GAAd,CAAkB,OAAlB,CAAb;AACD;;;WAED,kBAAS;AACP,UAAI+G,UAAU,GAAG,KAAKjN,GAAL,CAASsE,KAAT,CAAe,KAAKU,GAAL,CAASC,MAAT,CAAgBC,WAAhB,GAA4B,CAA3C,EAA8C,KAAKF,GAAL,CAASC,MAAT,CAAgBgK,YAAhB,GAA6B,CAA3E,EAA8E,WAA9E,CAAjB;AACAhC,gBAAU,CAAC9H,SAAX,CAAqB,GAArB,EAAyB,GAAzB;AAEA,UAAIlC,cAAJ,CAAS;AACPxD,YAAI,EAAE,IADC;AAEPe,SAAC,EAAE,KAAKwE,GAAL,CAASC,MAAT,CAAgBC,WAAhB,GAA4B,CAFxB;AAGP1F,SAAC,EAAE,KAAKwF,GAAL,CAASC,MAAT,CAAgBgK,YAAhB,GAA6B,CAA7B,GAAiC,GAH7B;AAIP/L,YAAI,EAAE,EAJC;AAKPC,aAAK,EAAE;AACLC,cAAI,EAAE,YADD;AAELC,cAAI,EAAE,SAFD;AAGLC,gBAAM,EAAE,SAHH;AAILC,yBAAe,EAAE;AAJZ;AALA,OAAT;AAaA,WAAKmM,eAAL,GAAuB,IAAIjG,oBAAJ,CAAe;AACpChK,YAAI,EAAE,IAD8B;AAEpCe,SAAC,EAAE,KAAKwE,GAAL,CAASC,MAAT,CAAgBC,WAAhB,GAA4B,CAA5B,GAAgC,GAFC;AAGpC1F,SAAC,EAAE,KAAKwF,GAAL,CAASC,MAAT,CAAgBgK,YAAhB,GAA6B,CAA7B,GAAiC,GAHA;AAIpC9G,aAAK,EAAE,SAJ6B;AAKpCvE,gBAAQ,EAAE,KAAK+L,eALqB;AAMpCzG,uBAAe,EAAE,IANmB;AAOpCC,iBAAS,EAAE,CAPyB;AAQpCC,gBAAQ,EAAE,CAR0B;AASpCC,iBAAS,EAAE,CATyB;AAUpCC,eAAO,EAAE,CAV2B;AAWpCI,aAAK,EAAE,YAX6B;AAYpCvG,aAAK,EAAE;AACLC,cAAI,EAAE,YADD;AAELC,cAAI,EAAE;AAFD;AAZ6B,OAAf,CAAvB;AAiBA,WAAKqM,eAAL,CAAqBE,WAArB;AAEA,UAAInG,oBAAJ,CAAe;AACbhK,YAAI,EAAE,IADO;AAEbe,SAAC,EAAE,KAAKwE,GAAL,CAASC,MAAT,CAAgBC,WAAhB,GAA4B,CAA5B,GAAgC,GAFtB;AAGb1F,SAAC,EAAE,KAAKwF,GAAL,CAASC,MAAT,CAAgBgK,YAAhB,GAA6B,CAA7B,GAAiC,GAHvB;AAIb9G,aAAK,EAAE,SAJM;AAKbvE,gBAAQ,EAAE,KAAKiM,eALF;AAMb3G,uBAAe,EAAE,IANJ;AAObC,iBAAS,EAAE,CAPE;AAQbC,gBAAQ,EAAE,CARG;AASbC,iBAAS,EAAE,CATE;AAUbC,eAAO,EAAE,CAVI;AAWbI,aAAK,EAAE,YAXM;AAYbvG,aAAK,EAAE;AACLC,cAAI,EAAE,YADD;AAELC,cAAI,EAAE;AAFD;AAZM,OAAf;AAkBA,WAAKyM,SAAL,GAAiB,IAAI7M,cAAJ,CAAS;AACxBxD,YAAI,EAAE,IADkB;AAExBe,SAAC,EAAE,KAAKwE,GAAL,CAASC,MAAT,CAAgBC,WAAhB,GAA4B,CAFP;AAGxB1F,SAAC,EAAE,KAAKwF,GAAL,CAASC,MAAT,CAAgBgK,YAAhB,GAA6B,CAA7B,GAAiC,GAHZ;AAIxB/L,YAAI,EAAE,EAJkB;AAKxBC,aAAK,EAAE;AACLC,cAAI,EAAE,YADD;AAELC,cAAI,EAAE,SAFD;AAGLC,gBAAM,EAAE,SAHH;AAILC,yBAAe,EAAE;AAJZ;AALiB,OAAT,CAAjB;AAaA,WAAKyC,MAAL,CAAYiE,EAAZ,CAAe,aAAf,EAA8B,KAAK8F,eAAL,CAAqBjM,IAArB,CAA0B,IAA1B,CAA9B;AACA,WAAKkC,MAAL,CAAYiE,EAAZ,CAAe,aAAf,EAA8B,KAAK+F,UAAL,CAAgBlM,IAAhB,CAAqB,IAArB,CAA9B;AAED;;;WAED,gCAAkC;AAAA,UAAhBmM,YAAgB,SAAhBA,YAAgB;AAChC,UAAIxE,OAAO,GAAGyE,MAAM,CAACC,MAAP,CAAcF,YAAY,CAACxE,OAA3B,CAAd;AAEA,WAAKqE,SAAL,CAAe5M,IAAf,GAAsB+M,YAAY,CAAClN,IAAnC;;AAEA,UAAI0I,OAAO,CAAC+C,MAAR,GAAiB,KAAKiB,WAA1B,EAAsC;AACpC9F,eAAO,CAACC,GAAR,CAAY,qBAAZ;;AACA,YAAI,KAAKC,KAAL,CAAWS,OAAX,KAAuB,IAA3B,EAAiC;AAC/B,cAAI8F,YAAY,GAAG,KAAK5F,KAAL,CAAWxK,GAAX,CAAe,cAAf,EAA+B;AAAEyK,kBAAM,EAAE,GAAV;AAAezG,gBAAI,EAAE;AAArB,WAA/B,CAAnB;AACAoM,sBAAY,CAACxO,IAAb;AACD;AACF;;AACD,WAAK6N,WAAL,GAAiBhE,OAAO,CAAC+C,MAAzB,CAZgC,CAchC;;AACA,UAAI,KAAKgB,eAAT,EAA0B;AACxB,aAAKA,eAAL,CAAqB3L,OAArB;AACD,OAjB+B,CAmBhC;;;AACA,WAAK2L,eAAL,GAAuB,IAAIjE,qBAAJ,CAAgB;AACrC9L,YAAI,EAAE,IAD+B;AAErC+L,mBAAW,EAAEyE,YAAY,CAACzE,WAFW;AAGrCC,eAAO,EAAEA,OAH4B;AAIrCjL,SAAC,EAAE,KAAKwE,GAAL,CAASC,MAAT,CAAgBC,WAAhB,GAA4B,CAA5B,GAAgC,GAJE;AAKrC1F,SAAC,EAAE,KAAKwF,GAAL,CAASC,MAAT,CAAgBgK,YAAhB,GAA6B,CAA7B,GAAiC,EALC;AAMrCvD,mBAAW,EAAE,sBANwB;AAOrCC,oBAAY,EAAE,iBAPuB;AAQrCxI,aAAK,EAAE;AACLC,cAAI,EAAE,YADD;AAELC,cAAI,EAAE;AAFD;AAR8B,OAAhB,CAAvB,CApBgC,CAkChC;;AACA,UAAGoI,OAAO,CAAC+C,MAAR,GAAiB,CAApB,EAAuB;AACrB,aAAKkB,eAAL,CAAqBW,QAArB;AACD,OAFD,MAEO;AACL,aAAKX,eAAL,CAAqBE,WAArB;AACD;AACF;;;WAED,2BAAkB;AAChB,WAAK5J,MAAL,CAAYsB,IAAZ,CAAiB,oBAAjB;AAEA,WAAKzI,KAAL,CAAW4C,KAAX,CAAiB,MAAjB;AACD;;;WAED,2BAAkB;AAChB,WAAKuE,MAAL,CAAYsB,IAAZ,CAAiB,YAAjB;AACD;;;WAED,oBAAW7H,IAAX,EAAiB;AACf,WAAKZ,KAAL,CAAW4C,KAAX,CAAiB,MAAjB,EAAyBhC,IAAzB;AACD;;;;EA/IuB1B,MAAM,CAAC+Q,K;;eAkJlB5P,W;;;;;;;;;;;;;;;;;;;;;;ACpJf;;AACA;;AAEA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAEMC,I;;;;;AAEJ,kBAAe;AAAA;;AAAA,6BACP,MADO;AAEd;;;;WAED,cAAKM,IAAL,EAAW;AACT,WAAKuG,MAAL,GAAY,KAAKC,QAAL,CAAcC,GAAd,CAAkB,UAAlB,CAAZ;AACA,WAAKoK,WAAL,GAAmB7Q,IAAnB;AACD;;;WAED,kBAAS;AACP,WAAK8Q,SAAL;AACA,WAAKC,aAAL;AACA,WAAKC,gBAAL,GAHO,CAIP;;AAEA,WAAK5G,KAAL,GAAa,KAAK5D,QAAL,CAAcC,GAAd,CAAkB,OAAlB,CAAb;;AAEA,UAAI,CAAC,KAAK2D,KAAL,CAAWsF,cAAZ,KAA+B,KAAnC,EAAyC;AACvC,aAAK3E,KAAL,CAAWkG,OAAX;AACA,aAAK7G,KAAL,CAAWsF,cAAX,GAA4B,KAA5B;AACA,aAAKlJ,QAAL,CAAcU,GAAd,CAAkB,OAAlB,EAA2B,KAAKyI,OAAhC;AACD;;AACD,UAAI,KAAKvF,KAAL,CAAWyF,OAAX,KAAuB,IAA3B,EAAiC;AAC/B,aAAKF,OAAL,GAAe,KAAK5E,KAAL,CAAWxK,GAAX,CAAe,WAAf,EAA4B;AAAEyK,gBAAM,EAAE,GAAV;AAAezG,cAAI,EAAE;AAArB,SAA5B,CAAf;AACA,aAAKoL,OAAL,CAAaxN,IAAb;AACA,aAAKiI,KAAL,CAAWsF,cAAX,GAA4B,IAA5B;AACA,aAAKtF,KAAL,CAAWuF,OAAX,GAAmB,WAAnB;AACA,aAAKnJ,QAAL,CAAcU,GAAd,CAAkB,OAAlB,EAA2B,KAAKkD,KAAhC;AACD;;AAED,WAAK8G,QAAL,GAAgB,KAAKC,OAAL,CAAa1K,GAAb,CAAiB,0BAAjB,EAA6ClG,GAA7C,CAAiD,IAAjD,EAAuD;AACrEQ,SAAC,EAAE,GADkE;AAErEhB,SAAC,EAAE,GAFkE;AAGrEmP,cAAM,EAAE,GAH6D;AAIrEkC,YAAI,EAAE,KAAK7Q,GAAL,CAAS8Q,MAAT,CAAgB,CAAhB,EAAmB,CAAnB,EAAsB,GAAtB,EAA2B,QAA3B,CAJ+D;AAKrEpD,aAAK,EAAE,KAAK1N,GAAL,CAAS8Q,MAAT,CAAgB,CAAhB,EAAmB,CAAnB,EAAsB,EAAtB,EAA0B,QAA1B,CAL8D,CAMrE;AACA;AACA;;AARqE,OAAvD,EAUf7G,EAVe,CAUZ,QAVY,EAUF,KAAK8G,iBAVH,EAUsB,IAVtB,CAAhB;AAYA,WAAK7N,IAAL,GAAY,KAAKlD,GAAL,CAASkD,IAAT,CAAc,CAAd,EAAiB,CAAjB,CAAZ;AACA,WAAK6N,iBAAL;AACD;;;WAED,6BAAoB;AAClB,UAAIzK,UAAU,GAAG,KAAKqK,QAAL,CAAclK,gBAAd,EAAjB;AACA,UAAIuK,CAAC,GAAG,YAAR;;AACA,WAAK,IAAIjO,IAAT,IAAiBuD,UAAjB,EAA6B;AACzB,YAAIA,UAAU,CAACvD,IAAD,CAAV,CAAiB+D,MAArB,EAA6B;AACzBkK,WAAC,IAAIjO,IAAI,GAAG,GAAZ;AACH;AACJ;;AACDiO,OAAC,IAAI,IAAL;AACAA,OAAC,IAAK,YAAYvJ,IAAI,CAACC,KAAL,CAAW,KAAKiJ,QAAL,CAAcM,KAAd,GAAsB,GAAjC,IAAwC,GAApD,GAA0D,IAAhE;AACAD,OAAC,IAAK,YAAYvJ,IAAI,CAACC,KAAL,CAAW,KAAKiJ,QAAL,CAAcO,KAAd,GAAsB,GAAjC,IAAwC,GAApD,GAA0D,IAAhE;AACA,WAAKhO,IAAL,CAAUiO,OAAV,CAAkBH,CAAlB;AACD;;;WAED,kBAAS;AACP,WAAK3R,OAAL,CAAaW,GAAb,CAAiBoR,QAAjB,CAA0B,KAAKlN,MAA/B,EAAuC,KAAKmN,UAA5C;AACA,WAAKhS,OAAL,CAAaW,GAAb,CAAiBoR,QAAjB,CAA0B,KAAKlN,MAA/B,EAAuC,KAAKoN,OAA5C;AACA,WAAKjS,OAAL,CAAaW,GAAb,CAAiBoR,QAAjB,CAA0B,KAAKlN,MAA/B,EAAuC,KAAKqN,KAA5C;AAEA,WAAKlS,OAAL,CAAamS,OAAb,CAAqB,KAAKtN,MAA1B,EAAkC,KAAKuN,MAAvC,EAA+C,KAAKC,eAApD,EAAqE,IAArE,EAA2E,IAA3E;AACA,WAAKrS,OAAL,CAAamS,OAAb,CAAqB,KAAKtN,MAA1B,EAAkC,KAAKyN,MAAvC,EAA+C,KAAKC,eAApD,EAAqE,IAArE,EAA2E,IAA3E;AACA,WAAK1N,MAAL,CAAY2N,MAAZ;AACA,WAAKC,iBAAL;AACD;;;WAED,qBAAY;AACV,WAAKlF,GAAL,GAAW,KAAK5M,GAAL,CAAS+R,OAAT,CAAiB,SAAjB,CAAX;AAEA,UAAMC,OAAO,GAAC,KAAKpF,GAAL,CAASqF,eAAT,CAAyBC,kBAAzB,EAAiC,IAAjC,EAAuC,EAAvC,EAA2C,EAA3C,EAA+C,CAA/C,EAAkD,CAAlD,CAAd;AACA,WAAKb,UAAL,GAAkB,KAAKzE,GAAL,CAASuF,WAAT,CAAqBC,gBAArB,EAA4BJ,OAA5B,CAAlB;AAEA,WAAKpF,GAAL,CAASyF,YAAT,CAAsB,KAAKhB,UAAL,CAAgBiB,KAAhB,CAAsBC,UAAtB,CAAiCC,cAAvD;AAEA,WAAKtO,MAAL,GAAe,IAAf;AACA,WAAKuO,KAAL,GAAe,KAAKzS,GAAL,CAAS0S,KAAT,CAAe;AAACpR,WAAG,EAAE;AAAN,OAAf,CAAf;AACA,WAAKiQ,KAAL,GAAe,KAAKvR,GAAL,CAAS0S,KAAT,CAAe;AAACpR,WAAG,EAAE;AAAN,OAAf,CAAf;AACA,WAAKmQ,MAAL,GAAe,KAAKzR,GAAL,CAAS0S,KAAT,CAAe;AAACpR,WAAG,EAAE;AAAN,OAAf,CAAf;AACA,WAAKqQ,MAAL,GAAe,KAAK3R,GAAL,CAAS0S,KAAT,CAAe;AAACpR,WAAG,EAAE;AAAN,OAAf,CAAf;AACA,WAAKgQ,OAAL,GAAe,KAAKtR,GAAL,CAAS0S,KAAT,CAAe;AAACpR,WAAG,EAAE;AAAN,OAAf,CAAf;AACD;;;WAED,yBAAgB;AACd,wCAAmB4O,MAAM,CAACC,MAAP,CAAc,KAAKG,WAAL,CAAiB7E,OAA/B,CAAnB,oCAA4D;AAAvD,YAAIvH,MAAM,qBAAV;AACH,YAAIyO,KAAK,GAAG;AACVlT,cAAI,EAAI,IADE;AAEVG,YAAE,EAAMsE,MAAM,CAACtE,EAFL;AAGVqC,eAAK,EAAGiC,MAAM,CAACjC,KAHL;AAIVC,cAAI,EAAIgC,MAAM,CAAChC;AAJL,SAAZ;;AAOA,YAAIgC,MAAM,CAACtE,EAAP,KAAc,KAAKoG,MAAL,CAAYpG,EAA9B,EAAkC;AAChC,eAAKsE,MAAL,GAAc,IAAIqB,kBAAJ,CAAWoN,KAAX,CAAd;AACD,SAFD,MAEO;AACL,eAAKrB,OAAL,CAAatR,GAAb,CAAiB,IAAIgC,wBAAJ,CAAgB2Q,KAAhB,CAAjB;AACD;AACF;AACF;;;WAED,4BAAmB;AACjB,WAAK3M,MAAL,CAAYiE,EAAZ,CAAe,aAAf,EAA8B,KAAK2I,YAAL,CAAkB9O,IAAlB,CAAuB,IAAvB,CAA9B;AACA,WAAKkC,MAAL,CAAYiE,EAAZ,CAAe,YAAf,EAA6B,KAAK4I,WAAL,CAAiB/O,IAAjB,CAAsB,IAAtB,CAA7B;AACA,WAAKkC,MAAL,CAAYiE,EAAZ,CAAe,WAAf,EAA4B,KAAK6I,UAAL,CAAgBhP,IAAhB,CAAqB,IAArB,CAA5B;AACA,WAAKkC,MAAL,CAAYiE,EAAZ,CAAe,eAAf,EAAgC,KAAK8I,cAAL,CAAoBjP,IAApB,CAAyB,IAAzB,CAAhC;AACA,WAAKkC,MAAL,CAAYiE,EAAZ,CAAe,kBAAf,EAAmC,KAAK+I,gBAAL,CAAsBlP,IAAtB,CAA2B,IAA3B,CAAnC;AACA,WAAKkC,MAAL,CAAYiE,EAAZ,CAAe,YAAf,EAA6B,KAAKgJ,WAAL,CAAiBnP,IAAjB,CAAsB,IAAtB,CAA7B;AACA,WAAKkC,MAAL,CAAYiE,EAAZ,CAAe,mBAAf,EAAoC,KAAKiJ,kBAAL,CAAwBpP,IAAxB,CAA6B,IAA7B,CAApC;AACD;;;WAED,yBAAgBI,MAAhB,EAAwB0E,KAAxB,EAA+B;AAC7B,WAAK5C,MAAL,CAAYsB,IAAZ,CAAiB,eAAjB,EAAkC;AAAE6L,gBAAQ,EAAEvK,KAAK,CAAChJ;AAAlB,OAAlC;AACA,WAAK6R,MAAL,CAAY2B,MAAZ,CAAmBxK,KAAnB,EAAyB,IAAzB,EAA8B,IAA9B;AACA;AACJ;AACA;AACA;AACG;;;WAED,yBAAgB1E,MAAhB,EAAwBmP,KAAxB,EAA+B;AAC7B,UAAInP,MAAM,CAACiC,KAAX,EAAkB;AAChB,aAAKH,MAAL,CAAYsB,IAAZ,CAAiB,aAAjB,EAAgC;AAAEzH,aAAG,EAAEqE,MAAM,CAACqD,UAAP,EAAP;AAA4BzH,aAAG,EAAEoE,MAAM,CAACsD,UAAP;AAAjC,SAAhC;AACAtD,cAAM,CAACoP,WAAP;;AACA,YAAI,KAAKzJ,KAAL,CAAWS,OAAX,KAAuB,IAA3B,EAAiC;AAC/B,cAAIC,SAAS,GAAG,KAAKC,KAAL,CAAWxK,GAAX,CAAe,WAAf,EAA4B;AAAEyK,kBAAM,EAAE,GAAV;AAAezG,gBAAI,EAAE;AAArB,WAA5B,CAAhB;AACAuG,mBAAS,CAAC3I,IAAV;AACD;AACF;AACF;;;WAED,4BAAkC;AAAA,UAAnB2R,SAAmB,QAAnBA,SAAmB;AAAA,UAAR/S,CAAQ,QAARA,CAAQ;AAAA,UAALhB,CAAK,QAALA,CAAK;AAChC,UAAIgU,KAAK,GAAG,qBAASD,SAAT,EAAoB,KAAKjC,OAAzB,CAAZ;;AACA,UAAI,CAACkC,KAAL,EAAY;AAAE;AAAQ;;AAEtBA,WAAK,CAACC,IAAN,CAAW;AAAEjT,SAAC,EAAEA,CAAL;AAAQhB,SAAC,EAAEA;AAAX,OAAX;AACD;;;WAED,6BAAoB;AAAA,iDACA,KAAK8R,OAAL,CAAaoC,WAAb,EADA;AAAA;;AAAA;AAClB,4DAA8C;AAAA,cAArCF,KAAqC;;AAC5C,cAAI,EAAE,OAAOA,KAAK,CAACpR,UAAb,KAA4B,WAA9B,KAA8CoR,KAAK,CAACpR,UAAN,GAAmB,KAAK3C,IAAL,CAAUkU,OAAV,KAAsB,GAA3F,EAAgG;AAC9FH,iBAAK,CAACpS,KAAN,CAAYgG,IAAZ;AACD;AACF;AALiB;AAAA;AAAA;AAAA;AAAA;AAMnB;;;WAED,2BAAkC;AAAA,UAArBwM,OAAqB,SAArBA,OAAqB;AAAA,UAAZ/T,GAAY,SAAZA,GAAY;AAAA,UAAPC,GAAO,SAAPA,GAAO;AAChC,WAAKyR,KAAL,CAAWvR,GAAX,CAAe,IAAIL,gBAAJ,CAAS,IAAT,EAAeiU,OAAf,EAAwB/T,GAAxB,EAA6BC,GAA7B,CAAf;AACD;;;WAED,+BAA0C;AAAA,UAAzB8T,OAAyB,SAAzBA,OAAyB;AAAA,UAAhBC,YAAgB,SAAhBA,YAAgB;AACxC;AACA,qCAAmBD,OAAnB,EAA4B,KAAKrC,KAAjC;;AAEA,UAAI,KAAK1H,KAAL,CAAWS,OAAX,KAAuB,IAA3B,EAAiC;AAC/B,YAAIwJ,aAAa,GAAG,KAAKtJ,KAAL,CAAWxK,GAAX,CAAe,eAAf,EAAgC;AAAEyK,gBAAM,EAAE,GAAV;AAAezG,cAAI,EAAE;AAArB,SAAhC,CAApB;AACA8P,qBAAa,CAAClS,IAAd;AACD,OAPuC,CASxC;;;AATwC,kDAUvBiS,YAVuB;AAAA;;AAAA;AAUxC,+DAA+B;AAAA,cAAtBpQ,IAAsB;AAC3B,eAAKkO,MAAL,CAAY3R,GAAZ,CAAgB,IAAIwD,sBAAJ,CAAc,IAAd,EAAoBC,IAApB,CAAhB;AACH;AAZuC;AAAA;AAAA;AAAA;AAAA;;AAYvC,OAZuC,CAcxC;;AAdwC,kDAevBoQ,YAfuB;AAAA;;AAAA;AAexC,+DAA+B;AAAA,cAAtBpQ,KAAsB;;AAC7B,cAAI,CAACA,KAAI,CAACsQ,SAAV,EAAqB;AAAE;AAAU;;AAEjC,eAAK1C,UAAL,CAAgB2C,SAAhB,CAA0B,KAAK3C,UAAL,CAAgBiB,KAAhB,CAAsBC,UAAtB,CAAiC0B,KAA3D,EAAkExQ,KAAI,CAAC5D,GAAvE,EAA4E4D,KAAI,CAAC3D,GAAjF;AACD;AAnBuC;AAAA;AAAA;AAAA;AAAA;;AAmBvC,OAnBuC,CAqBxC;;AArBwC,kDAsBvB+T,YAtBuB;AAAA;;AAAA;AAsBxC,+DAA+B;AAAA,cAAtBpQ,MAAsB;;AAC7B,cAAI,CAACA,MAAI,CAACsQ,SAAV,EAAqB;AAAE;AAAU;;AACjC,cAAI,CAACtQ,MAAI,CAACmF,KAAV,EAAiB;AAAE;AAAU;;AAE7B,eAAK6I,MAAL,CAAYzR,GAAZ,CAAgB,IAAI2I,iBAAJ,CAAU,IAAV,EAAgBlF,MAAI,CAACmF,KAArB,CAAhB;AACD;AA3BuC;AAAA;AAAA;AAAA;AAAA;;AA2BvC;AACF;;;WAED,iCAAqD;AAAA,UAAlC2K,SAAkC,SAAlCA,SAAkC;AAAA,UAAvBJ,QAAuB,SAAvBA,QAAuB;AAAA,UAAbvL,UAAa,SAAbA,UAAa;;AACnD,UAAI2L,SAAS,KAAK,KAAKrP,MAAL,CAAYtE,EAA9B,EAAiC;AAC/B,aAAKsE,MAAL,CAAYgQ,SAAZ,CAAsBtM,UAAtB;AACD;;AAED,qCAAmBuL,QAAnB,EAA6B,KAAK1B,MAAlC;AACD;;;WAED,4BAAqC;AAAA,UAAvB8B,SAAuB,SAAvBA,SAAuB;AAAA,UAAZ1T,GAAY,SAAZA,GAAY;AAAA,UAAPC,GAAO,SAAPA,GAAO;AACnC,WAAK2S,KAAL,CAAWzS,GAAX,CAAe,IAAI+B,gBAAJ,CAAS,IAAT,EAAelC,GAAf,EAAoBC,GAApB,CAAf;AAEA,qCAAmByT,SAAnB,EAA8B,KAAKjC,OAAnC;;AACA,UAAI,KAAKzH,KAAL,CAAWS,OAAX,KAAuB,IAA3B,EAAiC;AAC/B,YAAIC,SAAS,GAAG,KAAKC,KAAL,CAAWxK,GAAX,CAAe,WAAf,EAA4B;AAAEyK,gBAAM,EAAE,GAAV;AAAezG,cAAI,EAAE;AAArB,SAA5B,CAAhB;AACAuG,iBAAS,CAAC3I,IAAV;AACD;AACF;;;WAED,qBAAYuS,WAAZ,EAAyB;AACvB,WAAKnO,MAAL,CAAYsB,IAAZ,CAAiB,YAAjB;AAEA,WAAKzI,KAAL,CAAW4C,KAAX,CAAiB,KAAjB,EAAuB0S,WAAvB;AACAxK,aAAO,CAACC,GAAR,CAAY,iCAA+BuK,WAA3C;AACD;;;WAED,mCAAkC;AAAA,UAAbZ,SAAa,SAAbA,SAAa;AAChC,qCAAmBA,SAAnB,EAA8B,KAAKjC,OAAnC;;AAEA,UAAI,KAAKA,OAAL,CAAa8C,QAAb,CAAsB5F,MAAtB,IAAgC,CAApC,EAAuC;AAAE;AAAQ;;AAEjD,WAAKqE,WAAL;AACD;;;;EAxNgB9U,MAAM,CAAC+Q,K;;eA2NX3P,I;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ICrOFJ,O;;;;;AAEX,qBAAe;AAAA;;AAAA,6BACL,SADK;AAEd;;;;WAED,mBAAU;AACR;AACA,WAAKsV,IAAL,CAAU/P,KAAV,CAAgB,WAAhB,EAAiC,2BAAjC;AACA,WAAK+P,IAAL,CAAU/P,KAAV,CAAgB,eAAhB,EAAiC,+BAAjC;AAEA,WAAK+P,IAAL,CAAUC,WAAV,CAAsB,SAAtB,EAAoC,yBAApC,EAA8D;AAAEC,kBAAU,EAAE,GAAd;AAAmBC,mBAAW,EAAE;AAAhC,OAA9D;AACA,WAAKH,IAAL,CAAUC,WAAV,CAAsB,YAAtB,EAAoC,yBAApC,EAA+D;AAAEC,kBAAU,EAAE,EAAd;AAAkBC,mBAAW,EAAE;AAA/B,OAA/D;AACA,WAAKH,IAAL,CAAUC,WAAV,CAAsB,WAAtB,EAAoC,4BAApC,EAAkE;AAAEC,kBAAU,EAAE,EAAd;AAAkBC,mBAAW,EAAE;AAA/B,OAAlE;AAEA,WAAKH,IAAL,CAAU/P,KAAV,CAAgB,iBAAhB,EAAoC,iCAApC;AACA,WAAK+P,IAAL,CAAU/P,KAAV,CAAgB,kBAAhB,EAAoC,kCAApC;AACA,WAAK+P,IAAL,CAAU/P,KAAV,CAAgB,sBAAhB,EAAyC,sCAAzC;AACA,WAAK+P,IAAL,CAAU/P,KAAV,CAAgB,uBAAhB,EAAyC,uCAAzC;AACA,WAAK+P,IAAL,CAAU/P,KAAV,CAAgB,MAAhB,EAAoC,4BAApC;AACA,WAAK+P,IAAL,CAAU/P,KAAV,CAAgB,MAAhB,EAAoC,6BAApC,EAdQ,CAgBR;;AACA,WAAK+P,IAAL,CAAU/P,KAAV,CAAgB,OAAhB,EAA8B,kBAA9B;AACA,WAAK+P,IAAL,CAAUI,gBAAV,CAA2B,SAA3B,EAAuC,mBAAvC;AACA,WAAKJ,IAAL,CAAUI,gBAAV,CAA2B,UAA3B,EAAuC,oBAAvC,EAnBQ,CAsBR;;AACA,WAAKJ,IAAL,CAAUC,WAAV,CAAsB,kBAAtB,EAA8C,kCAA9C,EAAsF;AAAEC,kBAAU,EAAE,EAAd;AAAkBC,mBAAW,EAAE;AAA/B,OAAtF;AACA,WAAKH,IAAL,CAAUC,WAAV,CAAsB,sBAAtB,EAA8C,sCAA9C,EAAsF;AAAEC,kBAAU,EAAE,EAAd;AAAkBC,mBAAW,EAAE;AAA/B,OAAtF;AACA,WAAKH,IAAL,CAAUC,WAAV,CAAsB,oBAAtB,EAA8C,oCAA9C,EAAsF;AAAEC,kBAAU,EAAE,EAAd;AAAkBC,mBAAW,EAAE;AAA/B,OAAtF;AACA,WAAKH,IAAL,CAAUC,WAAV,CAAsB,cAAtB,EAA8C,8BAA9C,EAAsF;AAAEC,kBAAU,EAAE,EAAd;AAAkBC,mBAAW,EAAE;AAA/B,OAAtF;AACA,WAAKH,IAAL,CAAUC,WAAV,CAAsB,iBAAtB,EAA8C,iCAA9C,EAAsF;AAAEC,kBAAU,EAAE,EAAd;AAAkBC,mBAAW,EAAE;AAA/B,OAAtF;AACA,WAAKH,IAAL,CAAUC,WAAV,CAAsB,gBAAtB,EAA8C,gCAA9C,EAAsF;AAAEC,kBAAU,EAAE,EAAd;AAAkBC,mBAAW,EAAE;AAA/B,OAAtF;AACA,WAAKH,IAAL,CAAUC,WAAV,CAAsB,gBAAtB,EAA8C,gCAA9C,EAAsF;AAAEC,kBAAU,EAAE,EAAd;AAAkBC,mBAAW,EAAE;AAA/B,OAAtF;AAEA,WAAKH,IAAL,CAAUC,WAAV,CAAsB,eAAtB,EAAuC,+BAAvC,EAAwE;AAAEC,kBAAU,EAAE,EAAd;AAAkBC,mBAAW,EAAE;AAA/B,OAAxE;AACA,WAAKH,IAAL,CAAUC,WAAV,CAAsB,cAAtB,EAAuC,8BAAvC,EAAuE;AAAEC,kBAAU,EAAE,EAAd;AAAkBC,mBAAW,EAAE;AAA/B,OAAvE;AACA,WAAKH,IAAL,CAAUC,WAAV,CAAsB,cAAtB,EAAuC,uBAAvC,EAAgE;AAAEC,kBAAU,EAAE,EAAd;AAAkBC,mBAAW,EAAE;AAA/B,OAAhE;AAEA,WAAKH,IAAL,CAAU/P,KAAV,CAAgB,gBAAhB,EAAqC,gCAArC;AACA,WAAK+P,IAAL,CAAU/P,KAAV,CAAgB,mBAAhB,EAAqC,mCAArC;AACA,WAAK+P,IAAL,CAAU/P,KAAV,CAAgB,gBAAhB,EAAqC,gCAArC;AACA,WAAK+P,IAAL,CAAU/P,KAAV,CAAgB,mBAAhB,EAAqC,mCAArC;AACA,WAAK+P,IAAL,CAAU/P,KAAV,CAAgB,gBAAhB,EAAqC,gCAArC;AAEA,WAAK+P,IAAL,CAAU/P,KAAV,CAAgB,mBAAhB,EAAqC,mCAArC;AACA,WAAK+P,IAAL,CAAU/P,KAAV,CAAgB,mBAAhB,EAAqC,mCAArC;AACA,WAAK+P,IAAL,CAAU/P,KAAV,CAAgB,kBAAhB,EAAqC,kCAArC,EA3CQ,CA6CR;;AACA,WAAK+P,IAAL,CAAU/P,KAAV,CAAgB,sBAAhB,EAA4C,8BAA5C;AAEA,WAAK+P,IAAL,CAAU/P,KAAV,CAAgB,yBAAhB,EAA4C,8BAA5C;AACA,WAAK+P,IAAL,CAAU/P,KAAV,CAAgB,sBAAhB,EAA4C,8BAA5C;AACA,WAAK+P,IAAL,CAAU/P,KAAV,CAAgB,yBAAhB,EAA4C,8BAA5C;AACA,WAAK+P,IAAL,CAAU/P,KAAV,CAAgB,uBAAhB,EAA4C,8BAA5C;AACA,WAAK+P,IAAL,CAAU/P,KAAV,CAAgB,uBAAhB,EAA4C,8BAA5C;AACA,WAAK+P,IAAL,CAAU/P,KAAV,CAAgB,sBAAhB,EAA4C,8BAA5C;AACA,WAAK+P,IAAL,CAAU/P,KAAV,CAAgB,sBAAhB,EAA4C,8BAA5C;AACA,WAAK+P,IAAL,CAAU/P,KAAV,CAAgB,sBAAhB,EAA4C,8BAA5C;AACA,WAAK+P,IAAL,CAAU/P,KAAV,CAAgB,wBAAhB,EAA4C,8BAA5C;AACA,WAAK+P,IAAL,CAAU/P,KAAV,CAAgB,uBAAhB,EAA4C,+BAA5C;AACA,WAAK+P,IAAL,CAAU/P,KAAV,CAAgB,sBAAhB,EAA4C,+BAA5C;AAEA,WAAK+P,IAAL,CAAUC,WAAV,CAAsB,oBAAtB,EAA6C,iCAA7C,EAAgF;AAAEC,kBAAU,EAAE,EAAd;AAAkBC,mBAAW,EAAE;AAA/B,OAAhF;AACA,WAAKH,IAAL,CAAUC,WAAV,CAAsB,iBAAtB,EAA6C,iCAA7C,EAAgF;AAAEC,kBAAU,EAAE,EAAd;AAAkBC,mBAAW,EAAE;AAA/B,OAAhF;AACA,WAAKH,IAAL,CAAUC,WAAV,CAAsB,oBAAtB,EAA6C,iCAA7C,EAAgF;AAAEC,kBAAU,EAAE,EAAd;AAAkBC,mBAAW,EAAE;AAA/B,OAAhF;AACA,WAAKH,IAAL,CAAUC,WAAV,CAAsB,kBAAtB,EAA6C,iCAA7C,EAAgF;AAAEC,kBAAU,EAAE,EAAd;AAAkBC,mBAAW,EAAE;AAA/B,OAAhF;AACA,WAAKH,IAAL,CAAUC,WAAV,CAAsB,kBAAtB,EAA6C,iCAA7C,EAAgF;AAAEC,kBAAU,EAAE,EAAd;AAAkBC,mBAAW,EAAE;AAA/B,OAAhF;AACA,WAAKH,IAAL,CAAUC,WAAV,CAAsB,iBAAtB,EAA6C,iCAA7C,EAAgF;AAAEC,kBAAU,EAAE,EAAd;AAAkBC,mBAAW,EAAE;AAA/B,OAAhF;AACA,WAAKH,IAAL,CAAUC,WAAV,CAAsB,iBAAtB,EAA6C,iCAA7C,EAAgF;AAAEC,kBAAU,EAAE,EAAd;AAAkBC,mBAAW,EAAE;AAA/B,OAAhF;AACA,WAAKH,IAAL,CAAUC,WAAV,CAAsB,iBAAtB,EAA6C,iCAA7C,EAAgF;AAAEC,kBAAU,EAAE,EAAd;AAAkBC,mBAAW,EAAE;AAA/B,OAAhF;AACA,WAAKH,IAAL,CAAUC,WAAV,CAAsB,mBAAtB,EAA6C,iCAA7C,EAAgF;AAAEC,kBAAU,EAAE,EAAd;AAAkBC,mBAAW,EAAE;AAA/B,OAAhF;AACA,WAAKH,IAAL,CAAUC,WAAV,CAAsB,kBAAtB,EAA6C,kCAA7C,EAAiF;AAAEC,kBAAU,EAAE,EAAd;AAAkBC,mBAAW,EAAE;AAA/B,OAAjF;AACA,WAAKH,IAAL,CAAUC,WAAV,CAAsB,iBAAtB,EAA6C,kCAA7C,EAAiF;AAAEC,kBAAU,EAAE,EAAd;AAAkBC,mBAAW,EAAE;AAA/B,OAAjF;AAEA,WAAKH,IAAL,CAAUhW,KAAV,CAAgB,WAAhB,EAA6B,CAAC,4BAAD,CAA7B;AACA,WAAKgW,IAAL,CAAUhW,KAAV,CAAgB,WAAhB,EAA6B,CAAC,4CAAD,CAA7B,EAzEQ,CAyEsE;;AAC9E,WAAKgW,IAAL,CAAUhW,KAAV,CAAgB,WAAhB,EAA6B,CAAC,gCAAD,CAA7B,EA1EQ,CA0E0D;;AAClE,WAAKgW,IAAL,CAAUhW,KAAV,CAAgB,WAAhB,EAA6B,CAAC,wCAAD,CAA7B,EA3EQ,CA2EkE;;AAE1E,WAAKgW,IAAL,CAAUhW,KAAV,CAAgB,eAAhB,EAAiC,CAAC,8BAAD,CAAjC;AACA,WAAKgW,IAAL,CAAUhW,KAAV,CAAgB,cAAhB,EAAgC,CAAC,6BAAD,CAAhC;AACA,WAAKgW,IAAL,CAAUhW,KAAV,CAAgB,WAAhB,EAA6B,CAAC,qDAAD,CAA7B,EA/EQ,CA+E+E;;AACvF,WAAKgW,IAAL,CAAUhW,KAAV,CAAgB,WAAhB,EAA6B,CAAC,+BAAD,CAA7B;AACA,WAAKgW,IAAL,CAAUhW,KAAV,CAAgB,aAAhB,EAA+B,CAAC,6BAAD,CAA/B;AAEA,UAAIqW,GAAG,GAAG,4GAAV;AACA,WAAKL,IAAL,CAAUM,MAAV,CAAiB,0BAAjB,EAA6CD,GAA7C,EAAkD,IAAlD;AACD;;;WAED,kBAAS;AACP,WAAK7V,KAAL,CAAW4C,KAAX,CAAiB,MAAjB;AACD;;;;EA/F0B1D,MAAM,CAAC+Q,K;;;eAkGrB/P,O;;;;;;;;;;;;;;;;;;;;;;AClGf;;AACA;;;;;;;;;;;;;;;;;;;;;;AAEA,IAAMuN,aAAa,GAAG,QAAtB;AACA,IAAMC,WAAW,GAAG,QAApB;AACA,IAAMC,UAAU,GAAG,QAAnB;;IAEMvN,S;;;;;AAIJ,uBAAe;AAAA;;AAAA,6BACP,WADO;AAEd;;;;WAED,mBAAU;AACR,WAAKoV,IAAL,CAAUO,WAAV,CAAsB;AAClBtT,WAAG,EAAE,aADa;AAElBoT,WAAG,EAAE,8CAFa;AAGlB;AACAG,gBAAQ,EAAE,OAJQ;AAKlBzP,eAAO,EAAE;AALS,OAAtB;AAOD;;;WAED,gBAAO;AACL,WAAKY,MAAL,GAAY,KAAKC,QAAL,CAAcC,GAAd,CAAkB,UAAlB,CAAZ;AACD;;;WAED,kBAAS;AAGP,WAAK4O,SAAL,GAAiB,KAAK9U,GAAL,CAAS8U,SAAT,CAAmB,CAAnB,EAAsB,CAAtB,CAAjB;AAEA,UAAIC,GAAG,GAAE,KAAK/U,GAAL,CAASsE,KAAT,CAAe,KAAKU,GAAL,CAASC,MAAT,CAAgBC,WAAhB,GAA4B,CAA3C,EAA8C,KAAKF,GAAL,CAASC,MAAT,CAAgBgK,YAAhB,GAA6B,CAA3E,EAA8E,WAA9E,EACN9J,SADM,CACI,GADJ,EACQ,GADR,CAAT;AAGA,WAAK2P,SAAL,CAAe9U,GAAf,CAAmB+U,GAAnB;AAEA,UAAIC,GAAG,GAAE,IAAI/R,cAAJ,CAAS;AAChBxD,YAAI,EAAE,IADU;AAEhBe,SAAC,EAAE,KAAKwE,GAAL,CAASC,MAAT,CAAgBC,WAAhB,GAA4B,CAFf;AAGhB1F,SAAC,EAAE,KAAKwF,GAAL,CAASC,MAAT,CAAgBgK,YAAhB,GAA6B,CAA7B,GAAiC,GAHpB;AAIhB/L,YAAI,EAAE,YAJU;AAKhBC,aAAK,EAAE;AACLC,cAAI,EAAE,YADD;AAELC,cAAI,EAAE,SAFD;AAGLC,gBAAM,EAAE,SAHH;AAILC,yBAAe,EAAE;AAJZ;AALS,OAAT,CAAT;AAaA,WAAKuR,SAAL,CAAe9U,GAAf,CAAmBgV,GAAnB;AAEA,WAAKC,WAAL,GAAiB,SAAjB;AAEA,UAAI7J,MAAM,GAAG,IAAI3B,oBAAJ,CAAe;AAC1BhK,YAAI,EAAE,IADoB;AAE1Be,SAAC,EAAE,KAAKwE,GAAL,CAASC,MAAT,CAAgBC,WAAhB,GAA4B,CAFL;AAG1B1F,SAAC,EAAE,KAAKwF,GAAL,CAASC,MAAT,CAAgBgK,YAAhB,GAA6B,CAA7B,GAAiC,GAHV;AAI1B9G,aAAK,EAAC,YAJoB;AAK1BvE,gBAAQ,EAAE,KAAKsR,qBALW;AAM1BhM,uBAAe,EAAE,IANS;AAO1BI,eAAO,EAAE,CAPiB;AAQ1BH,iBAAS,EAAC,CARgB;AAS1BE,iBAAS,EAAC,CATgB;AAU1BD,gBAAQ,EAAC,CAViB;AAW1BM,aAAK,EAAE,EAXmB;AAY1BvG,aAAK,EAAE;AACLC,cAAI,EAAE,YADD;AAELC,cAAI,EAAE;AAFD;AAZmB,OAAf,CAAb;AAkBA,WAAKyR,SAAL,CAAe9U,GAAf,CAAmBoL,MAAnB;AAEA,WAAK+J,SAAL,GAAiB,IAAI1I,mBAAJ,CAAc;AAC7B5N,aAAK,EAAE,IADsB;AAE7B2B,SAAC,EAAE,KAAKwE,GAAL,CAASC,MAAT,CAAgBC,WAAhB,GAA4B,CAFF;AAG7B1F,SAAC,EAAE,KAAKwF,GAAL,CAASC,MAAT,CAAgBgK,YAAhB,GAA6B;AAHH,OAAd,CAAjB;AAMD;;;WAED,iCAAwB;AACtB,UAAI,KAAKkG,SAAL,CAAezI,QAAf,IAAyB,IAA7B,EACE,KAAKuI,WAAL,GAAiB,KAAKE,SAAL,CAAezI,QAAhC;AACF,WAAK1G,MAAL,CAAYsB,IAAZ,CAAiB,aAAjB,EAAgC,KAAK2N,WAArC,EAAkD,KAAKG,aAAL,CAAmBtR,IAAnB,CAAwB,IAAxB,CAAlD;AACD;;;WAED,uBAAcuH,OAAd,EAAuB;AACrB,WAAK8J,SAAL,CAAetR,OAAf;AACA,WAAKhF,KAAL,CAAW4C,KAAX,CAAiB,aAAjB,EAAgC4J,OAAhC;AACD;;;WAED,kBAAS,CAAE;;;;EAxFWtN,MAAM,CAAC+Q,K;;eA4FhB7P,S;;;;;;;;;;;;;;;;;;;;;;ACnGf;;;;;;;;;;;;;;;;;;;;;;IAEMG,G;;;;;AAEJ,iBAAe;AAAA;;AAAA,6BACP,KADO;AAEd;;;;WAED,cAAK+U,WAAL,EAAkB;AAChB,WAAKjS,IAAL,GAAYiS,WAAZ;AACD;;;WAED,kBAAS;AACP,UAAIlR,cAAJ,CAAS;AACPxD,YAAI,EAAE,IADC;AAEPe,SAAC,EAAE,KAAKwE,GAAL,CAASC,MAAT,CAAgBC,WAAhB,GAA4B,CAFxB;AAGP1F,SAAC,EAAE,KAAKwF,GAAL,CAASC,MAAT,CAAgBgK,YAAhB,GAA6B,CAHzB;AAIP/L,YAAI,EAAE,KAAKmS,UAAL,EAJC;AAKPlS,aAAK,EAAE;AACLC,cAAI,EAAE,YADD;AAELC,cAAI,EAAE;AAFD;AALA,OAAT;AAWA,WAAK+H,MAAL,GAAc,IAAI3B,oBAAJ,CAAe;AAC3BhK,YAAI,EAAE,IADqB;AAE3Be,SAAC,EAAE,KAAKwE,GAAL,CAASC,MAAT,CAAgBC,WAAhB,GAA4B,CAFJ;AAG3B1F,SAAC,EAAE,KAAKwF,GAAL,CAASC,MAAT,CAAgBgK,YAAhB,GAA6B,CAA7B,GAAiC,GAHT;AAI3B9G,aAAK,EAAC,SAJqB;AAK3BvE,gBAAQ,EAAE,KAAK0R,YALY;AAM3BpM,uBAAe,EAAE,IANU;AAO3BI,eAAO,EAAE,CAPkB;AAQ3BH,iBAAS,EAAC,CARiB;AAS3BE,iBAAS,EAAC,CATiB;AAU3BD,gBAAQ,EAAC,CAVkB;AAW3BM,aAAK,EAAE,cAXoB;AAY3BvG,aAAK,EAAE;AACLC,cAAI,EAAE,YADD;AAELC,cAAI,EAAE;AAFD;AAZoB,OAAf,CAAd;AAiBA,WAAKiD,UAAL,GAAmB,KAAKC,KAAL,CAAWC,QAAX,CAAoB+O,MAApB,CAA2BxX,MAAM,CAACwL,KAAP,CAAaiM,QAAb,CAAsBC,QAAtB,CAA+BC,KAA1D,CAAnB;AAEA,WAAK7L,KAAL,GAAa,KAAK5D,QAAL,CAAcC,GAAd,CAAkB,OAAlB,CAAb;;AACA,UAAI,CAAC,KAAK2D,KAAL,CAAWsF,cAAZ,KAA+B,KAAnC,EAAyC;AACvC,aAAK3E,KAAL,CAAWkG,OAAX;AACA,aAAK7G,KAAL,CAAWsF,cAAX,GAA4B,KAA5B;AACA,aAAKlJ,QAAL,CAAcU,GAAd,CAAkB,OAAlB,EAA2B,KAAKyI,OAAhC;AACD;;AACD,UAAI,KAAKvF,KAAL,CAAWyF,OAAX,KAAuB,IAA3B,EAAiC;AAC/B,aAAKF,OAAL,GAAe,KAAK5E,KAAL,CAAWxK,GAAX,CAAe,WAAf,EAA4B;AAAEyK,gBAAM,EAAE,GAAV;AAAezG,cAAI,EAAE;AAArB,SAA5B,CAAf;AACA,aAAKoL,OAAL,CAAaxN,IAAb;AACA,aAAKiI,KAAL,CAAWsF,cAAX,GAA4B,IAA5B;AACA,aAAKtF,KAAL,CAAWuF,OAAX,GAAmB,WAAnB;AACA,aAAKnJ,QAAL,CAAcU,GAAd,CAAkB,OAAlB,EAA2B,KAAKkD,KAAhC;AACD;AACF;;;WAED,kBAAS;AACP,UAAI,KAAKvD,UAAL,CAAgBQ,MAApB,EAA6B;AAC3B,aAAKwO,YAAL;AACD;AACF;;;WAED,wBAAe;AACb,WAAKzW,KAAL,CAAW4C,KAAX,CAAiB,MAAjB;AACD;;;WAED,sBAAa;AACX,UAAI,KAAKS,IAAT,EAAe;AACb,eAAO,cAAY,KAAKA,IAAjB,GAAsB,4CAA7B;AACD;;AACD,aAAO,oDAAP;AACD;;;;EAvEenE,MAAM,CAAC+Q,K;;eA0EV1P,G;;;;;;;;;;;;;;;;;;;AC5ER,IAAMuW,cAAc,GAAG,CAAC,SAAD,EAAY,UAAZ,CAAvB;;AACA,IAAMzD,OAAO,GAAG,OAAhB;;AACA,IAAME,KAAK,GAAK,QAAhB;;AAEA,IAAMrS,SAAS,GAAG,EAAlB;;AACA,IAAMoB,cAAc,GAAG,IAAvB;;AACA,IAAMwB,IAAI,GAAG,GAAb;;AAEA,IAAMkF,KAAK,GAAG,CAAd;;AACA,IAAME,KAAK,GAAG,CAAd;;AACA,IAAME,KAAK,GAAG,CAAd;;AAEA,IAAMtC,aAAa,GAAG,GAAtB;;AACA,IAAM0C,UAAU,GAAG,EAAnB;;AACA,IAAMD,SAAS,GAAG,GAAlB;;AACA,IAAM3C,aAAa,GAAG,IAAtB;;AACA,IAAMgD,UAAU,GAAG,GAAnB;;AACA,IAAMD,SAAS,GAAG,GAAlB;;AACA,IAAM9C,aAAa,GAAG,CAAtB;;AACA,IAAMgD,UAAU,GAAG,CAAnB;;;;;;;;;;;;;;;;;;;;;;;;;;ACnBA,IAAMkN,QAAQ,GAAG,SAAXA,QAAW,CAAShW,EAAT,EAAaiW,QAAb,EAAuB;AAAA,6CAC1BA,QAAQ,CAACnC,WAAT,EAD0B;AAAA;;AAAA;AAC7C,wDAA2C;AAAA,UAAlCoC,MAAkC;;AACzC,UAAIA,MAAM,CAAClW,EAAP,KAAcA,EAAlB,EAAsB;AAAE;AAAU;;AAElC,aAAOkW,MAAP;AACD;AAL4C;AAAA;AAAA;AAAA;AAAA;;AAM7C,SAAO,IAAP;AACD,CAPM;;;;AASA,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,CAASnW,EAAT,EAAaiW,QAAb,EAAuB;AACvD,MAAIC,MAAM,GAAGF,QAAQ,CAAChW,EAAD,EAAKiW,QAAL,CAArB;;AACA,MAAI,CAACC,MAAL,EAAa;AAAE;AAAQ;;AAEvBA,QAAM,CAACjS,OAAP;AACD,CALM","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./client/js/app.js\");\n","import Boot from './states/boot.js';\r\nimport Preload from './states/preload.js';\r\nimport Menu from './states/menu.js';\r\nimport SelectMap from './states/select_map.js';\r\nimport PendingGame from './states/pending_game.js';\r\nimport Play from './states/play.js';\r\nimport Win from './states/win.js';\r\n//import RexUIPlugin from 'phaser3-rex-plugins/templates/ui/ui-plugin.js';\r\n//rexUI: RexUIPlugin;  // Declare scene property 'rexUI' as RexUIPlugin type\r\n\r\nvar config = {\r\n  type: Phaser.AUTO,\r\n  parent: 'phaser-example',\r\n  width: 980,\r\n  height: 630,\r\n  pixelArt: false,\r\n  audio: {\r\n    noAudio: false\r\n  },\r\n  scale: {\r\n    mode: Phaser.Scale.NONE,\r\n    autoCenter: Phaser.Scale.CENTER_BOTH,\r\n  },\r\n  scene: [Boot, Preload, Menu, SelectMap, PendingGame, Play, Win],\r\n  physics: {\r\n    default: \"arcade\",\r\n    arcade: {\r\n      gravity: { y: 0 }\r\n    }\r\n  }/*,\r\n  plugins: {\r\n    scene: [{\r\n        key: 'rexUI',\r\n        plugin: RexUIPlugin,\r\n        mapping: 'rexUI'\r\n      }\r\n      // ...\r\n    ]\r\n  }*/\r\n\r\n};\r\n\r\nvar game = new Phaser.Game(config);","import { TILE_SIZE, EXPLOSION_TIME } from '../utils/constants.js';\r\n\r\nexport default class Bomb extends Phaser.GameObjects.Sprite {\r\n\r\n  constructor(game, id, col, row) {\r\n    super(game, (col * TILE_SIZE) + TILE_SIZE / 2, (row * TILE_SIZE) + TILE_SIZE / 2, 'bomb_tileset');\r\n    this.game = game\r\n    this.id = id;\r\n\r\n    this.game.add.existing(this);\r\n    this.game.physics.add.existing(this);\r\n    this.body.pushable = false;\r\n\r\n    this.tween = this.game.tweens.add({\r\n      targets: this,\r\n      scale: { to: { x: 1.2, y: 1.2 } },\r\n      alpha: { value: 0, duration: 5000, ease: 'Power1', delay: 600 },\r\n      ease: 'Sine.inOut',\r\n      yoyo: true,\r\n      repeat: -1,\r\n      repeatDelay: 1000,\r\n      hold: 1000,\r\n      duraton: EXPLOSION_TIME\r\n    });\r\n\r\n    const anims=game.anims;\r\n    anims.create({key:'bomb', frames: anims.generateFrameNumbers('bomb_tileset', { start: 0, end: 13 }),  frameRate:6, repeat: -1});\r\n\r\n    this.anims.play('bomb');\r\n    this.tween.play();\r\n  }\r\n\r\n  update() {\r\n\r\n  }\r\n\r\n}\r\n","import { TILE_SIZE } from '../utils/constants.js';\r\n\r\nexport default class Bone extends Phaser.GameObjects.Sprite {\r\n\r\n  constructor(game, col, row) {\r\n    super(game, col + TILE_SIZE / 2, row  + TILE_SIZE / 2, 'bone_tileset');\r\n    this.game=game;\r\n    this.game.add.existing(this);\r\n  }\r\n\r\n}\r\n","import { TILE_SIZE, PING } from '../utils/constants.js';\r\nimport { Text } from '../helpers/elements.js';\r\n\r\nexport default class EnemyPlayer extends Phaser.GameObjects.Sprite {\r\n\r\n  constructor({ game, id, spawn, skin }) {\r\n    super(game, (spawn.x) + TILE_SIZE / 2, (spawn.y)  + TILE_SIZE / 2, 'bomberman_' + skin);\r\n\r\n    this.game = game\r\n    this.id = id;\r\n\r\n    this.currentPosition = spawn;\r\n    this.lastMoveAt = 0;\r\n    \r\n    this.game.add.existing(this);\r\n    this.game.physics.add.existing(this);\r\n    this.body.pushable = false;\r\n    this.setSize(20, 20);\r\n\r\n    const anims=game.anims;\r\n    anims.create({key:'up', frames: anims.generateFrameNumbers('bomberman_' + skin, { start: 9, end: 11 }),  frameRate:15, repeat: -1});\r\n    anims.create({key:'down', frames: anims.generateFrameNumbers('bomberman_' + skin, { start: 0, end: 2 }),  frameRate:15, repeat: -1});\r\n    anims.create({key:'right', frames: anims.generateFrameNumbers('bomberman_' + skin, { start: 6, end: 8 }),  frameRate:15, repeat: -1});\r\n    anims.create({key:'left', frames: anims.generateFrameNumbers('bomberman_' + skin, { start: 3, end: 5 }),  frameRate:15, repeat: -1});\r\n\r\n\r\n    this.defineSelf(skin)\r\n  }\r\n\r\n  update () {\r\n\r\n  }\r\n\r\n  goTo(newPosition) {\r\n    this.lastMoveAt =  this.game.time.now;\r\n\r\n    this.animateFace(newPosition);\r\n\r\n     this.tween = this.game.tweens.add({\r\n      targets: this,\r\n      x: newPosition.x,\r\n      y: newPosition.y,\r\n      duration: PING\r\n    });\r\n  }\r\n\r\n  animateFace(newPosition) {\r\n    let face = 'down';\r\n    let diffX = newPosition.x - this.currentPosition.x;\r\n    let diffY = newPosition.y - this.currentPosition.y;\r\n\r\n    if (diffX < 0) {\r\n      face = 'left'\r\n    } else if (diffX > 0) {\r\n      face = 'right'\r\n    } else if (diffY < 0) {\r\n      face = 'up'\r\n    } else if (diffY > 0) {\r\n      face = 'down'\r\n    }\r\n\r\n    this.anims.play(face)\r\n    this.currentPosition = newPosition;\r\n  }\r\n\r\n  defineSelf(name) {\r\n    let playerText = new Text({\r\n      game: this.game,\r\n      x: TILE_SIZE / 2,\r\n      y: -10,\r\n      text: name,\r\n      style: {\r\n        font: '14px Areal',\r\n        fill: '#FFFFFF',\r\n          stroke: '#000000',\r\n          strokeThickness: 3\r\n      }\r\n    })\r\n\r\n    this.game.add.existing(playerText);\r\n  }\r\n}\r\n","import { TILE_SIZE } from '../utils/constants.js';\r\n\r\nexport default class FireBlast extends Phaser.GameObjects.Sprite {\r\n\r\n  constructor(game, cell) {\r\n    super(game, (cell.col * TILE_SIZE) + TILE_SIZE / 2, (cell.row * TILE_SIZE) + TILE_SIZE / 2, cell.type, 0);\r\n\r\n    this.game = game\r\n\r\n    const anims=game.anims;\r\n    anims.create({key:'blast', frames: anims.generateFrameNumbers(cell.type, { start: 0, end: 4 }),  frameRate:15, repeat: -1, hideOnComplete:false});\r\n    this.anims.play('blast');\r\n\r\n    //this.game.physics.arcade.enable(this);\r\n    this.game.add.existing(this);\r\n    this.game.physics.add.existing(this);\r\n\r\n    this.game.time.addEvent({\r\n      delay: 100,                // ms\r\n      callback: this.destroy.bind(this),\r\n      callbackScope: this,\r\n      loop: false\r\n    });\r\n\r\n  }\r\n\r\n}\r\n","import { TILE_SIZE } from '../utils/constants.js';\r\n\r\nexport default class Info {\r\n\r\n  constructor({ game, player }) {\r\n    this.game = game;\r\n    this.player = player;\r\n\r\n    this.style    = { font: '14px Arial', fill: '#ffffff', align: 'left' }\r\n    this.redStyle = { font: '30px Arial', fill: '#ff0044', align: 'center' };\r\n\r\n    let bootsIcon  = this.game.add.image(TILE_SIZE*2, TILE_SIZE / 2, 'placeholder_speed');\r\n    this.speedText = this.game.add.text(TILE_SIZE*2, TILE_SIZE / 4, this.speedLabel(), this.style);\r\n    this.game.add.existing(bootsIcon);\r\n    this.game.add.existing(this.speedText);\r\n\r\n    let powerIcon  = this.game.add.image(TILE_SIZE*5, TILE_SIZE / 2, 'placeholder_power');\r\n    this.powerText = this.game.add.text(TILE_SIZE*5, TILE_SIZE / 4, this.powerLabel(), this.style);\r\n    this.game.add.existing(powerIcon);\r\n    this.game.add.existing(this.powerText);\r\n\r\n    let delayIcon  = this.game.add.image(TILE_SIZE*8, TILE_SIZE / 2, 'placeholder_time');\r\n    this.delayText = this.game.add.text(TILE_SIZE*8, TILE_SIZE / 4, this.delayLabel(), this.style);\r\n    this.game.add.existing(delayIcon);\r\n    this.game.add.existing(this.delayText);\r\n\r\n    this.deadText = this.game.add.text(this.game.sys.canvas.clientWidth/2, this.game.sys.canvas.clientWidth/2 - 30, 'You died :(', this.redStyle);\r\n    this.deadText.setOrigin(0.5,0.5);\r\n    this.deadText.visible = false\r\n  }\r\n\r\n  refreshStatistic() {\r\n    this.speedText.text = this.speedLabel();\r\n    this.powerText.text = this.powerLabel();\r\n    this.delayText.text = this.delayLabel();\r\n  }\r\n\r\n  showDeadInfo() {\r\n    this.deadText.visible = true\r\n  }\r\n\r\n  speedLabel() {\r\n    return this.player.speed\r\n  }\r\n\r\n  powerLabel() {\r\n    return `x ${this.player.power}`\r\n  }\r\n\r\n  delayLabel() {\r\n    return `${this.player.delay / 1000} sec.`\r\n  }\r\n}\r\n","import {\r\n  PING, TILE_SIZE, MAX_SPEED, STEP_SPEED, INITIAL_SPEED, SPEED, POWER, DELAY,\r\n  MIN_DELAY, STEP_DELAY, INITIAL_DELAY, INITIAL_POWER, STEP_POWER\r\n} from '../utils/constants.js';\r\n\r\nimport Info from './info.js';\r\nimport { SpoilNotification, Text } from '../helpers/elements.js';\r\n\r\nexport default class Player extends Phaser.GameObjects.Sprite {\r\n\r\n  constructor({ game, id, spawn, skin }) {\r\n    super(game, (spawn.x) + TILE_SIZE / 2, (spawn.y)  + TILE_SIZE / 2, 'bomberman_' + skin);\r\n\r\n    this.game = game;\r\n    this.id = id;\r\n\r\n    this.prevPosition = { x: spawn.x, y: spawn.y };\r\n\r\n    this.delay = INITIAL_DELAY;\r\n    this.power = INITIAL_POWER;\r\n    this.speed = INITIAL_SPEED;\r\n    this._lastBombTime = 0;\r\n\r\n    this.game.add.existing(this);\r\n    this.game.physics.add.existing(this);\r\n    this.body.pushable = false;\r\n\r\n    this.setSize(20, 20);\r\n    this.game.time.addEvent({\r\n      delay: PING,                // ms\r\n      callback: this.positionUpdaterLoop.bind(this),\r\n      callbackScope: this,\r\n      loop: true\r\n    });\r\n\r\n    const anims=game.anims;\r\n    anims.create({key:'up', frames: anims.generateFrameNumbers('bomberman_' + skin, { start: 9, end: 11 }),  frameRate:15, repeat: -1});\r\n    anims.create({key:'down', frames: anims.generateFrameNumbers('bomberman_' + skin, { start: 0, end: 2 }),  frameRate:15, repeat: -1});\r\n    anims.create({key:'right', frames: anims.generateFrameNumbers('bomberman_' + skin, { start: 6, end: 8 }),  frameRate:15, repeat: -1});\r\n    anims.create({key:'left', frames: anims.generateFrameNumbers('bomberman_' + skin, { start: 3, end: 5 }),  frameRate:15, repeat: -1});\r\n\r\n    this.info = new Info({ game: this.game, player: this });\r\n\r\n    this.defineKeyboard()\r\n    this.defineSelf(skin)\r\n    this.socket=this.game.registry.get('socketIO');\r\n    this.alive=true;\r\n  }\r\n\r\n  update() {\r\n    if (this.alive) {\r\n      this.handleMoves()\r\n      this.handleBombs()\r\n    }\r\n\r\n  }\r\n\r\n  defineKeyboard() {\r\n    this.cursorKeys  = this.game.input.keyboard.createCursorKeys();\r\n  }\r\n\r\n  handleMoves() {\r\n    this.body.velocity.set(0);\r\n    let animationsArray = []\r\n\r\n    if (this.cursorKeys.left.isDown){\r\n      this.body.velocity.x = -this.speed;\r\n      animationsArray.push('left')\r\n    } else if (this.cursorKeys.right.isDown) {\r\n      this.body.velocity.x = this.speed;\r\n      animationsArray.push('right')\r\n    }\r\n\r\n    if (this.cursorKeys.up.isDown) {\r\n      this.body.velocity.y = -this.speed;\r\n      animationsArray.push('up')\r\n    } else if (this.cursorKeys.down.isDown) {\r\n      this.body.velocity.y = this.speed;\r\n      animationsArray.push('down')\r\n    }\r\n\r\n    let currentAnimation = animationsArray[0]\r\n    if (currentAnimation){\r\n      this.anims.play(currentAnimation)\r\n      return\r\n    }\r\n\r\n    this.anims.stop();\r\n  }\r\n\r\n  handleBombs() {\r\n    if (this.cursorKeys.space.isDown) {\r\n      let now = this.game.time.now;\r\n\r\n      if (now > this._lastBombTime) {\r\n        this._lastBombTime = now + this.delay;\r\n\r\n        this.socket.emit('create bomb', { col: this.currentCol(), row: this.currentRow() });\r\n      }\r\n    }\r\n  }\r\n\r\n  currentCol() {\r\n    return Math.floor(this.body.x / TILE_SIZE)\r\n  }\r\n\r\n  currentRow() {\r\n    return Math.floor(this.body.y / TILE_SIZE)\r\n  }\r\n\r\n  positionUpdaterLoop() {\r\n    let newPosition = { x: this.x, y: this.y }\r\n\r\n    if (this.prevPosition.x !== newPosition.x || this.prevPosition.y !== newPosition.y) {\r\n      this.socket.emit('update player position', newPosition);\r\n      this.prevPosition = newPosition;\r\n    }\r\n  }\r\n\r\n  becomesDead() {\r\n    this.alive=false;\r\n    this.info.showDeadInfo()\r\n    this.destroy();\r\n  }\r\n\r\n  pickSpoil( spoil_type ){\r\n    if ( spoil_type === SPEED ){ this.increaseSpeed() }\r\n    if ( spoil_type === POWER ){ this.increasePower() }\r\n    if ( spoil_type === DELAY ){ this.increaseDelay() }\r\n  }\r\n\r\n  increaseSpeed(){\r\n    let asset = 'speed_up_no_bonus'\r\n\r\n    if (this.speed < MAX_SPEED) {\r\n      this.speed = this.speed + STEP_SPEED;\r\n      this.info.refreshStatistic();\r\n      asset = 'speed_up_bonus'\r\n    }\r\n\r\n    new SpoilNotification({ game: this.game, asset: asset, x: this.x, y: this.y })\r\n  }\r\n\r\n  increaseDelay(){\r\n    let asset = 'delay_up_no_bonus'\r\n\r\n    if (this.delay > MIN_DELAY){\r\n      this.delay -= STEP_DELAY;\r\n      this.info.refreshStatistic();\r\n      asset = 'delay_up_bonus'\r\n    }\r\n\r\n    new SpoilNotification({ game: this.game, asset: asset, x: this.x, y: this.y })\r\n  }\r\n\r\n  increasePower(){\r\n    let asset = 'power_up_bonus'\r\n\r\n    this.power += STEP_POWER;\r\n    this.info.refreshStatistic();\r\n\r\n    new SpoilNotification({ game: this.game, asset: asset, x: this.x, y: this.y })\r\n  }\r\n\r\n  defineSelf(name) {\r\n    let playerText = new Text({\r\n      game: this.game,\r\n      x: TILE_SIZE / 2,\r\n      y: -10,\r\n      text: `\\u272E ${name} \\u272E`,\r\n      style: {\r\n        font: '15px Areal',\r\n        fill: '#FFFFFF',\r\n          stroke: '#000000',\r\n          strokeThickness: 3\r\n      }\r\n    })\r\n\r\n    this.game.add.existing(playerText);\r\n  }\r\n}\r\n","import { SPEED, POWER, DELAY, TILE_SIZE } from '../utils/constants.js';\r\n\r\nexport default class Spoil extends Phaser.GameObjects.Sprite {\r\n\r\n  constructor(game, spoil) {\r\n\r\n    let spoil_type;\r\n    if (spoil.spoil_type === DELAY) {\r\n      spoil_type = 0\r\n    }\r\n    if (spoil.spoil_type === POWER) {\r\n      spoil_type =  1\r\n    }\r\n    if (spoil.spoil_type === SPEED) {\r\n      spoil_type = 2\r\n    }\r\n\r\n    super(game, (spoil.col * TILE_SIZE)+ TILE_SIZE / 2, (spoil.row * TILE_SIZE)+ TILE_SIZE / 2, 'spoil_tileset', spoil_type);\r\n\r\n    this.id = spoil.id\r\n\r\n    game.add.existing(this);\r\n    game.physics.add.existing(this);\r\n  }\r\n\r\n}\r\n","export class Model {\n  constructor() {\n    this._soundOn = true;\n    this._musicOn = true;\n    this._bgMusicPlaying = false;\n  }\n\n  set musicOn(value) {\n    this._musicOn = value;\n  }\n\n  get musicOn() {\n    return this._musicOn;\n  }\n\n  set soundOn(value) {\n    this._soundOn = value;\n  }\n\n  get soundOn() {\n    return this._soundOn;\n  }\n\n  set bgMusicPlaying(value) {\n    this._bgMusicPlaying = value;\n  }\n\n  get bgMusicPlaying() {\n    return this._bgMusicPlaying;\n  }\n}\n","export class Text extends Phaser.GameObjects.Text {\r\n\r\n  constructor({ game: scene, x, y, text, style }) {\r\n    super(scene, x, y, text, style);\r\n    this.setOrigin(0.5, 0.5);\r\n\r\n    scene.add.existing(this);\r\n  }\r\n\r\n}\r\n\r\nexport class Button extends Phaser.Input.Gamepad.Button {\r\n\r\n  constructor({ game, x, y, asset, callback, callbackContext, overFrame, outFrame, downFrame, upFrame }) {\r\n    super(game, x, y, asset, callback, callbackContext, overFrame, outFrame, downFrame, upFrame);\r\n    this.setOrigin(0.5, 0.5);\r\n\r\n    game.add.existing(this);\r\n  }\r\n\r\n}\r\n\r\nexport class TextButton extends Phaser.GameObjects.Sprite {\r\n  constructor({ game, x, y, asset, callback, callbackContext, upFrame, outFrame, overFrame, downFrame, label, style }) {\r\n\r\n    //check if config contains a scene\r\n    if (!game) {\r\n      console.log('missing scene');\r\n      return;\r\n    }\r\n    //check if config contains a key\r\n    if (!asset) {\r\n      console.log(\"missing key!\");\r\n      return;\r\n    }\r\n    //if there is no up property assume 0\r\n    if (!upFrame) {\r\n      upFrame = 0;\r\n    }\r\n    //if there is no down in config use up\r\n    if (!downFrame) {\r\n      downFrame = upFrame;\r\n    }\r\n    //if there is no over in config use up\r\n    if (!overFrame) {\r\n      overFrame = upFrame;\r\n    }\r\n    //call the constructor of the parent\r\n    //set at 0,0 in case there is no x and y\r\n    //in parameter\r\n    super(game, 0, 0, asset, upFrame);\r\n\r\n    this.model = game.registry.get('Model');\r\n\r\n    //make a class level reference to the config\r\n    this.scene = game;\r\n    this.asset = asset;\r\n    this.callback = callback;\r\n    this.callbackContext = callbackContext;\r\n    this.upFrame = upFrame;\r\n    this.outFrame = outFrame;\r\n    this.overFrame = overFrame;\r\n    this.downFrame = downFrame;\r\n    this.enable = true;\r\n\r\n    //if there is an x assign it\r\n    if (x) {\r\n      this.x = x;\r\n    }\r\n    //if there is an x assign it\r\n    if (y) {\r\n      this.y = y;\r\n    }\r\n\r\n    this.atext = new Phaser.GameObjects.Text(game, x, y, label, style);\r\n    this.atext.setOrigin(0.5, 0.5);\r\n\r\n    //add this to the scene\r\n    game.add.existing(this);\r\n    game.add.existing(this.atext);\r\n    //\r\n    //make interactive and set listeners\r\n    this.setInteractive();\r\n    this.on('pointerdown', this.onDown, this);\r\n    this.on('pointerup', this.onUp, this);\r\n    this.on('pointerover', this.onOver, this);\r\n    this.on('pointerout', this.onUp, this);\r\n  }\r\n\r\n  activate() {\r\n    this.setFrame(this.downFrame);\r\n    this.enable = true;\r\n    this.visible  = true;\r\n    this.atext.visible  = true;\r\n  }\r\n\r\n  disactivate() {\r\n    this.setFrame(this.outFrame);\r\n    this.enable = false;\r\n    this.visible  = false;\r\n    this.atext.visible  = false;\r\n  }\r\n\r\n  onDown() {\r\n    if (this.enable == false) return;\r\n\r\n    if (this.model.soundOn === true) {\r\n      let FxDeath01 = this.scene.sound.add('FxClick01', { volume: 0.8, loop: false });\r\n      FxDeath01.play();\r\n    }\r\n\r\n    this.setFrame(this.downFrame);\r\n    let mycallbackFunction = this.callback.bind(this.callbackContext);\r\n    mycallbackFunction();\r\n  }\r\n\r\n  onOver() {\r\n    if (this.enable == false) return;\r\n    this.setFrame(this.overFrame);\r\n  }\r\n\r\n  onUp() {\r\n    if (this.enable == false) return;\r\n    this.setFrame(this.upFrame);\r\n  }\r\n  onOut() {\r\n    if (this.enable == false) return;\r\n    this.setFrame(this.outFrame);\r\n  }\r\n}\r\n\r\nexport class GameSlots extends Phaser.GameObjects.Container {\r\n\r\n  constructor({ game, availableGames, callback, callbackContext, x, y, style }) {\r\n    super(game);\r\n\r\n    let game_slot_asset = 'slot_backdrop'\r\n    let game_enter_asset = 'list_icon'\r\n\r\n    let yOffset = y;\r\n    let nbGame=0;\r\n\r\n    for (let availableGame of availableGames) {\r\n      let gameBox = new Phaser.GameObjects.Image(game, x+220, yOffset-5, game_slot_asset);\r\n      let button = new TextButton({\r\n        game: game,\r\n        x: x+377,\r\n        y: yOffset-6, \r\n        asset: game_enter_asset,\r\n        callback: callback.bind(callbackContext, { game_id: availableGame.id }), \r\n        callbackContext: null, \r\n        upFrame: 0, \r\n        overFrame: 1,\r\n        downFrame: 2,\r\n        outFrame: 3,\r\n        label: ''});\r\n      let text = new Phaser.GameObjects.Text(game, x+30, yOffset-28, `Join Game: ${availableGame.name}`, style);\r\n\r\n      this.add(gameBox);\r\n      this.add(button);\r\n      this.add(text);\r\n      game.add.existing(gameBox);\r\n      game.add.existing(button);\r\n      game.add.existing(text);\r\n\r\n      yOffset += 105;\r\n      nbGame++;\r\n      if (nbGame>=3) break;\r\n    }\r\n  }\r\n\r\n  destroy() {\r\n  }\r\n}\r\n\r\nexport class PlayerSlots extends Phaser.GameObjects.Container {\r\n\r\n  constructor({ game, max_players, players, x, y, asset_empty, asset_player, style }) {\r\n    super(game);\r\n\r\n    let xOffset = x;\r\n    let YOffset = y;\r\n\r\n    for (let i = 0; i < max_players; i++) {\r\n      let slotBox\r\n      let slotName\r\n      let _player = players[i]\r\n\r\n      if (_player) {\r\n        slotBox = new Phaser.GameObjects.Image(game, xOffset, YOffset, asset_player + _player.skin)\r\n        slotName = new Phaser.GameObjects.Text(game, xOffset, YOffset-90 , _player.skin, style);\r\n        slotName.setOrigin(0.5, 0);\r\n        this.add(slotBox);\r\n        this.add(slotName);\r\n      } else {\r\n        slotBox = new Phaser.GameObjects.Image(game, xOffset, YOffset, asset_empty)\r\n        this.add(slotBox);\r\n      }\r\n      xOffset += 170;\r\n      if (i==2) {\r\n        xOffset = x\r\n        YOffset=YOffset+ slotBox.height +10;\r\n      }\r\n    }\r\n    game.add.existing(this);\r\n  }\r\n\r\n}\r\n\r\nexport class SpoilNotification extends Phaser.GameObjects.Group {\r\n\r\n  constructor({ game, asset, x, y }) {\r\n    super(game)\r\n\r\n    this.picture = game.add.image(x, y - 20, asset).setAlpha(1);\r\n    this.picture.setOrigin(0.5,0.5);\r\n\r\n    this.add(this.picture);\r\n\r\n    this.tween = game.tweens.add({\r\n      targets: this.picture,\r\n      y: this.picture.y - 25,\r\n      alpha: { value: 0, duration: 1000, ease: 'Power1', delay: 600 },\r\n      duration: 600\r\n    });\r\n    this.tween.on('complete', this.finish.bind(this));\r\n  }\r\n\r\n  finish() {\r\n    console.log('SpoilNotification destroyed');\r\n    this.picture.destroy();\r\n    this.destroy();\r\n  }\r\n}\r\n\r\nconst COLOR_PRIMARY = 0x4e342e;\r\nconst COLOR_LIGHT = 0x7b5e57;\r\nconst COLOR_DARK = 0x260e04;\r\n\r\n/**\r\n * Create a Graphic Slider to select a map\r\n * @export\r\n * @class MapSlider\r\n * @extends Phaser.GameObjects.Group\r\n */\r\nexport class MapSlider extends Phaser.GameObjects.Group {\r\n\r\n  /**\r\n   * Creates an instance of MapSlider.\r\n   * @param  {any} { scene, x, y } \r\n   * @memberof MapSlider\r\n   */\r\n  constructor({ scene, x, y }) {\r\n    super(scene)\r\n\r\n    this.selected=null;\r\n\r\n    this.config = {\r\n      name: 'Options',\r\n      maps: [\r\n        { name: 'Hot', map: 'hot_map', component: 'hot_map_preview_mini' },\r\n        { name: 'Cold', map: 'cold_map', component: 'cold_map_preview_mini' },\r\n      ]\r\n    };\r\n\r\n    this.scrollablePanel = scene.rexUI.add.scrollablePanel({\r\n      x: x,\r\n      y: y,\r\n      width: 500,\r\n      height: 300,\r\n      scrollMode: 1,\r\n      background: scene.rexUI.add.roundRectangle(0, 0, 2, 2, 10, COLOR_PRIMARY),\r\n      panel: {\r\n        child: this.createPanel(scene, this.config,this),\r\n        mask: { padding: 1},\r\n      },\r\n      slider: {\r\n        track: scene.rexUI.add.roundRectangle(0, 0, 20, 10, 10, COLOR_DARK),\r\n        thumb: scene.rexUI.add.roundRectangle(0, 0, 0, 0, 13, COLOR_LIGHT),\r\n      },\r\n      space: { left: 10, right: 10, top: 10, bottom: 10, panel: 10 }\r\n    }).layout();\r\n    //.layout().drawBounds(scene.add.graphics(), 0xff0000);\r\n\r\n    var labels = [];\r\n    scene.input.topOnly = false;\r\n    labels.push(...(this.scrollablePanel).getElement('#maps.items', true));\r\n    labels.forEach(function (label) {\r\n      if (!label) {return; }\r\n      var click = scene.rexUI.add.click(label,{  }).on('click', function () {\r\n        label.getElement('text').setColor('red');\r\n        console.log(\"Map selected: \"+label.getElement('icon').name);\r\n        label.slider.selected=label.getElement('icon').name\r\n\r\n        this.model = label.slider.scene.registry.get('Model');\r\n        if (this.model.soundOn === true) {\r\n          let FxDeath01 = label.slider.scene.sound.add('FxClick01', { volume: 0.8, loop: false });\r\n          FxDeath01.play();\r\n        }\r\n      });\r\n    })\r\n\r\n  }\r\n\r\n  /**\r\n   * Create \r\n   * @param  {any} scene \r\n   * @param  {any} data \r\n   * @return \r\n   * @memberof MapSlider\r\n   */\r\n  createPanel(scene, data,slider) {\r\n    var sizer = scene.rexUI.add.sizer({ orientation: 'x', space: { item: 10 } ,name:'maps'});\r\n    //scene.rexUI.setChildrenInteractive(sizer);\r\n    for (var i = 0; i < (data['maps']).length; i++) {\r\n      var map= scene.rexUI.add.circleMaskImage(0, 0, (data['maps'])[i].component, { maskType: 'roundRectangle', radius: 10  })\r\n      const COLOR_LIGHT = 0x7b5e57;\r\n      map.name=(data['maps'])[i].map;\r\n      var label = scene.rexUI.add.label({\r\n        orientation: 'y',\r\n        icon: map,\r\n        text: scene.add.text(0, 0, map.name),\r\n        space: { icon: 3 }\r\n      });\r\n      label.slider=slider;\r\n      sizer.add(label,{key :map.name});\r\n    }\r\n    return sizer;\r\n  }\r\n\r\n  onDown() {\r\n    console.log(\"MapSlider: onDown\");\r\n  }\r\n\r\n  destroy(){\r\n    this.scrollablePanel.destroy();\r\n  }\r\n\r\n}\r\n","import { Text } from '../helpers/elements.js';\r\nimport {Model} from '../helpers/Model.js';\r\n\r\nexport class Boot extends Phaser.Scene {\r\n\r\n  create() {\r\n    // Make the game keep reacting to messages from the server even when the game window doesnt have focus.\r\n    // The game pauses when I open a new tab in the same window, but does not pause when I focus on another application\r\n\r\n    new Text({\r\n      game: this,\r\n      x: this.sys.canvas.clientWidth/2,\r\n      y: this.sys.canvas.clientHeight/2,\r\n      text: 'Loading...',\r\n      style: {\r\n        font: '30px Areal',\r\n        fill: '#FFFFFF',\r\n        align: 'center'\r\n      }\r\n    })\r\n  }\r\n\r\n  create() {\r\n    console.log('Start Boot.create');\r\n    this.registry.set('Model', new Model());\r\n    this.registry.set('socketIO', io());\r\n    this.scene.start('Preload');\r\n    console.log('End  Boot.create');\r\n  }\r\n\r\n}\r\n\r\nexport default Boot;\r\n","import { Text, TextButton, GameSlots } from '../helpers/elements.js';\r\n\r\nclass Menu extends Phaser.Scene {\r\n\r\n  constructor () {\r\n      super('Menu');\r\n  }\r\n\r\n  init(data) {\r\n    this.slotsWithGame = null;\r\n    this.socket=this.registry.get('socketIO');\r\n\r\n    this.socket.on('display pending games', this.displayPendingGames.bind(this));\r\n  }\r\n\r\n  create() {\r\n    let background = this.add.image(this.sys.canvas.clientWidth/2, this.sys.canvas.clientHeight/2, 'main_menu');\r\n    background.setOrigin(0.5,0.5);\r\n\r\n\r\n    new Text({\r\n      game: this,\r\n      x: this.sys.canvas.clientWidth/2,\r\n      y: this.sys.canvas.clientHeight/2 - 215,\r\n      text: 'Main Menu',\r\n      style: {\r\n        font: '35px Areal',\r\n        fill: '#9ec0ba',\r\n        stroke: '#7f9995',\r\n        strokeThickness: 3\r\n      }\r\n    })\r\n\r\n    var button = new TextButton({\r\n      game: this,\r\n      x: this.sys.canvas.clientWidth/2,\r\n      y: this.sys.canvas.clientHeight/2 + 195,\r\n      asset:'buttons',\r\n      callback: this.hostGameAction,\r\n      callbackContext: this,\r\n      upFrame: 0,\r\n      overFrame:1,\r\n      downFrame:2,\r\n      outFrame:3,\r\n      label: 'New Game',\r\n      style: {\r\n        font: '20px Areal',\r\n        fill: '#000000'\r\n      }\r\n    });\r\n    this.socket.emit('enter lobby', this.displayPendingGames.bind(this));\r\n\r\n    this.model = this.registry.get('Model');\r\n    if (!this.model.bgMusicPlaying === false && !(this.model.bgMusic=='bgMusic02')){\r\n      this.sound.stopByKey(this.model.bgMusic);\r\n      this.model.bgMusicPlaying = false;\r\n      this.registry.set('Model', this.bgMusic);\r\n    }\r\n    if (this.model.musicOn === true && this.model.bgMusicPlaying === false) {\r\n      this.bgMusic = this.sound.add('bgMusic02', { volume: 0.5, loop: true });\r\n      this.bgMusic.play();\r\n      this.model.bgMusicPlaying = true;\r\n      this.model.bgMusic='bgMusic02';\r\n      this.registry.set('Model', this.model);\r\n    }\r\n  }\r\n\r\n  update() {\r\n\r\n\r\n  \r\n  }\r\n\r\n  hostGameAction() {\r\n    this.socket.emit('leave lobby');\r\n    this.scene.start('SelectMap');\r\n  }\r\n\r\n  displayPendingGames(availableGames) {\r\n    // NOTE: That is not optimal way to preview slots,\r\n    //       we should implement AddSlotToGroup, RemoveSlotFromGroup\r\n\r\n    // I triying to care about readability, not about performance.\r\n    if (this.slotsWithGame) {\r\n      this.slotsWithGame.destroy()\r\n    }\r\n\r\n    this.slotsWithGame = new GameSlots({\r\n      game: this,\r\n      availableGames: availableGames,\r\n      callback: this.joinGameAction,\r\n      callbackContext: this,\r\n      x: this.sys.canvas.clientWidth/2 - 220,\r\n      y: this.sys.canvas.clientHeight/2 -100,\r\n      style: {\r\n        font: '35px Areal',\r\n        fill: '#efefef',\r\n        stroke: '#ae743a',\r\n        strokeThickness: 3\r\n      }\r\n    });\r\n  }\r\n\r\n  joinGameAction(game_id) {\r\n    this.socket.emit('leave lobby');\r\n    console.log('Selected game: '+game_id.game_id);\r\n    this.scene.start('PendingGame', game_id);\r\n  }\r\n}\r\n\r\nexport default Menu;\r\n","import { Text, TextButton, PlayerSlots } from '../helpers/elements.js';\r\n\r\nclass PendingGame extends Phaser.Scene {\r\n\r\n  constructor () {\r\n    super('PendingGame');\r\n  }\r\n\r\n  init({ game_id }) {\r\n    this.socket=this.registry.get('socketIO');\r\n    this.slotsWithPlayer = null;\r\n    this.playerCount=0;\r\n\r\n    this.game_id = game_id;\r\n\r\n    this.socket.emit('enter pending game', { game_id: this.game_id });\r\n    this.model = this.registry.get('Model');\r\n  }\r\n\r\n  create() {\r\n    let background = this.add.image(this.sys.canvas.clientWidth/2, this.sys.canvas.clientHeight/2, 'main_menu');\r\n    background.setOrigin(0.5,0.5);\r\n\r\n    new Text({\r\n      game: this,\r\n      x: this.sys.canvas.clientWidth/2,\r\n      y: this.sys.canvas.clientHeight/2 - 215,\r\n      text: '',\r\n      style: {\r\n        font: '35px Areal',\r\n        fill: '#9ec0ba',\r\n        stroke: '#7f9995',\r\n        strokeThickness: 3\r\n      }\r\n    })\r\n\r\n    this.startGameButton = new TextButton({\r\n      game: this,\r\n      x: this.sys.canvas.clientWidth/2 + 105,\r\n      y: this.sys.canvas.clientHeight/2 + 195,\r\n      asset: 'buttons',\r\n      callback: this.startGameAction,\r\n      callbackContext: this,\r\n      overFrame: 1,\r\n      outFrame: 0,\r\n      downFrame: 2,\r\n      upFrame: 0,\r\n      label: 'Start Game',\r\n      style: {\r\n        font: '20px Areal',\r\n        fill: '#000000'\r\n      }\r\n    });\r\n    this.startGameButton.disactivate();\r\n\r\n    new TextButton({\r\n      game: this,\r\n      x: this.sys.canvas.clientWidth/2 - 105,\r\n      y: this.sys.canvas.clientHeight/2 + 195,\r\n      asset: 'buttons',\r\n      callback: this.leaveGameAction,\r\n      callbackContext: this,\r\n      overFrame: 1,\r\n      outFrame: 0,\r\n      downFrame: 2,\r\n      upFrame: 0,\r\n      label: 'Leave Game',\r\n      style: {\r\n        font: '20px Areal',\r\n        fill: '#000000'\r\n      }\r\n    });\r\n\r\n    this.gameTitle = new Text({\r\n      game: this,\r\n      x: this.sys.canvas.clientWidth/2,\r\n      y: this.sys.canvas.clientHeight/2 - 215,\r\n      text: '',\r\n      style: {\r\n        font: '35px Areal',\r\n        fill: '#9ec0ba',\r\n        stroke: '#6f7975',\r\n        strokeThickness: 3\r\n      }\r\n    })\r\n\r\n    this.socket.on('update game', this.displayGameInfo.bind(this));\r\n    this.socket.on('launch game', this.launchGame.bind(this));\r\n\r\n  }\r\n\r\n  displayGameInfo({ current_game }) {\r\n    let players = Object.values(current_game.players);\r\n\r\n    this.gameTitle.text = current_game.name;\r\n\r\n    if (players.length > this.playerCount){\r\n      console.log('New player detected');\r\n      if (this.model.soundOn === true) {\r\n        let FxPickItem01 = this.sound.add('FxPickItem01', { volume: 0.8, loop: false });\r\n        FxPickItem01.play();\r\n      }\r\n    }\r\n    this.playerCount=players.length;\r\n\r\n    //Destroy PlayerSlots if already existing\r\n    if (this.slotsWithPlayer) {\r\n      this.slotsWithPlayer.destroy();\r\n    }\r\n\r\n    //Create the PlayerSlots to display players\r\n    this.slotsWithPlayer = new PlayerSlots({\r\n      game: this,\r\n      max_players: current_game.max_players,\r\n      players: players,\r\n      x: this.sys.canvas.clientWidth/2 - 174,\r\n      y: this.sys.canvas.clientHeight/2 - 81,\r\n      asset_empty: 'bomberman_head_blank',\r\n      asset_player: 'bomberman_head_',\r\n      style: {\r\n        font: '20px Areal',\r\n        fill: '#48291c'\r\n      }\r\n    });\r\n\r\n    //Activate the Start button if more than one user in the PlayerSlots\r\n    if(players.length > 1) {\r\n      this.startGameButton.activate();\r\n    } else {\r\n      this.startGameButton.disactivate();\r\n    }\r\n  }\r\n\r\n  leaveGameAction() {\r\n    this.socket.emit('leave pending game');\r\n\r\n    this.scene.start('Menu');\r\n  }\r\n\r\n  startGameAction() {\r\n    this.socket.emit('start game');\r\n  }\r\n\r\n  launchGame(game) {\r\n    this.scene.start('Play', game);\r\n  }\r\n}\r\n\r\nexport default PendingGame;\r\n","import { findFrom, findAndDestroyFrom } from '../utils/utils.js';\r\nimport { TILESET, LAYER } from '../utils/constants.js';\r\n\r\nimport Player from '../entities/player.js';\r\nimport EnemyPlayer from '../entities/enemy_player.js';\r\nimport Bomb from '../entities/bomb.js';\r\nimport Spoil from '../entities/spoil.js';\r\nimport FireBlast from '../entities/fire_blast.js';\r\nimport Bone from '../entities/bone.js';\r\n\r\nclass Play extends Phaser.Scene {\r\n\r\n  constructor () {\r\n    super('Play');\r\n  }\r\n\r\n  init(game) {\r\n    this.socket=this.registry.get('socketIO');\r\n    this.currentGame = game\r\n  }\r\n\r\n  create() {\r\n    this.createMap();\r\n    this.createPlayers();\r\n    this.setEventHandlers();\r\n    //this.game.time.events.loop(400 , this.stopAnimationLoop.bind(this));\r\n\r\n    this.model = this.registry.get('Model');\r\n\r\n    if (!this.model.bgMusicPlaying === false){\r\n      this.sound.stopAll();\r\n      this.model.bgMusicPlaying = false;\r\n      this.registry.set('Model', this.bgMusic);\r\n    }\r\n    if (this.model.musicOn === true) {\r\n      this.bgMusic = this.sound.add('bgMusic03', { volume: 0.5, loop: true });\r\n      this.bgMusic.play();\r\n      this.model.bgMusicPlaying = true;\r\n      this.model.bgMusic='bgMusic03';\r\n      this.registry.set('Model', this.model);\r\n    }\r\n\r\n    this.joyStick = this.plugins.get('rexvirtualjoystickplugin').add(this, {\r\n      x: 400,\r\n      y: 300,\r\n      radius: 100,\r\n      base: this.add.circle(0, 0, 100, 0x888888),\r\n      thumb: this.add.circle(0, 0, 50, 0xcccccc),\r\n      // dir: '8dir',   // 'up&down'|0|'left&right'|1|'4dir'|2|'8dir'|3\r\n      // forceMin: 16,\r\n      // enable: true\r\n    })\r\n    .on('update', this.dumpJoyStickState, this);\r\n\r\n    this.text = this.add.text(0, 0);\r\n    this.dumpJoyStickState();\r\n  }\r\n\r\n  dumpJoyStickState() {\r\n    var cursorKeys = this.joyStick.createCursorKeys();\r\n    var s = 'Key down: ';\r\n    for (var name in cursorKeys) {\r\n        if (cursorKeys[name].isDown) {\r\n            s += name + ' ';\r\n        }\r\n    }\r\n    s += '\\n';\r\n    s += ('Force: ' + Math.floor(this.joyStick.force * 100) / 100 + '\\n');\r\n    s += ('Angle: ' + Math.floor(this.joyStick.angle * 100) / 100 + '\\n');\r\n    this.text.setText(s);\r\n  }\r\n  \r\n  update() {\r\n    this.physics.add.collider(this.player, this.blockLayer);\r\n    this.physics.add.collider(this.player, this.enemies);\r\n    this.physics.add.collider(this.player, this.bombs);\r\n\r\n    this.physics.overlap(this.player, this.spoils, this.onPlayerVsSpoil, null, this);\r\n    this.physics.overlap(this.player, this.blasts, this.onPlayerVsBlast, null, this);\r\n    this.player.update();\r\n    this.stopAnimationLoop();\r\n  }\r\n\r\n  createMap() {\r\n    this.map = this.add.tilemap('hot_map');\r\n\r\n    const tileset=this.map.addTilesetImage(TILESET,null, 35, 35, 0, 0);\r\n    this.blockLayer = this.map.createLayer(LAYER, tileset);\r\n\r\n    this.map.setCollision(this.blockLayer.layer.properties.collisionTiles)\r\n\r\n    this.player  = null;\r\n    this.bones   = this.add.group({key: 'bones'});\r\n    this.bombs   = this.add.group({key: 'bombs'});\r\n    this.spoils  = this.add.group({key: 'spoils'});\r\n    this.blasts  = this.add.group({key: 'blasts'});\r\n    this.enemies = this.add.group({key: 'enemies'});\r\n  }\r\n\r\n  createPlayers() {\r\n    for (let player of Object.values(this.currentGame.players)) {\r\n      let setup = {\r\n        game:   this,\r\n        id:     player.id,\r\n        spawn:  player.spawn,\r\n        skin:   player.skin\r\n      }\r\n\r\n      if (player.id === this.socket.id) {\r\n        this.player = new Player(setup);\r\n      } else {\r\n        this.enemies.add(new EnemyPlayer(setup))\r\n      }\r\n    }\r\n  }\r\n\r\n  setEventHandlers() {\r\n    this.socket.on('move player', this.onMovePlayer.bind(this));\r\n    this.socket.on('player win', this.onPlayerWin.bind(this));\r\n    this.socket.on('show bomb', this.onShowBomb.bind(this));\r\n    this.socket.on('detonate bomb', this.onDetonateBomb.bind(this));\r\n    this.socket.on('spoil was picked', this.onSpoilWasPicked.bind(this));\r\n    this.socket.on('show bones', this.onShowBones.bind(this));\r\n    this.socket.on('player disconnect', this.onPlayerDisconnect.bind(this));\r\n  }\r\n\r\n  onPlayerVsSpoil(player, spoil) {\r\n    this.socket.emit('pick up spoil', { spoil_id: spoil.id });\r\n    this.spoils.remove(spoil,true,true);\r\n    /*if (this.model.soundOn === true) {\r\n      let FxPickItem01 = this.sound.add('FxPickItem01', { volume: 0.8, loop: false });\r\n      FxPickItem01.play();\r\n    }*/\r\n  }\r\n\r\n  onPlayerVsBlast(player, blast) {\r\n    if (player.alive) {\r\n      this.socket.emit('player died', { col: player.currentCol(), row: player.currentRow() });\r\n      player.becomesDead()\r\n      if (this.model.soundOn === true) {\r\n        let FxDeath01 = this.sound.add('FxDeath01', { volume: 0.8, loop: false });\r\n        FxDeath01.play();\r\n      }\r\n    }\r\n  }\r\n\r\n  onMovePlayer({ player_id, x, y }) {\r\n    let enemy = findFrom(player_id, this.enemies);\r\n    if (!enemy) { return }\r\n\r\n    enemy.goTo({ x: x, y: y })\r\n  }\r\n\r\n  stopAnimationLoop() {\r\n    for (let enemy of this.enemies.getChildren()) {\r\n      if (!(typeof enemy.lastMoveAt === \"undefined\") && enemy.lastMoveAt < this.game.getTime() - 200) {\r\n        enemy.anims.stop();\r\n      }\r\n    }\r\n  }\r\n\r\n  onShowBomb({ bomb_id, col, row }) {\r\n    this.bombs.add(new Bomb(this, bomb_id, col, row));\r\n  }\r\n\r\n  onDetonateBomb({ bomb_id, blastedCells }) {\r\n    // Remove Bomb:\r\n    findAndDestroyFrom(bomb_id, this.bombs)\r\n\r\n    if (this.model.soundOn === true) {\r\n      let FxExplosion01 = this.sound.add('FxExplosion01', { volume: 0.8, loop: false });\r\n      FxExplosion01.play();\r\n    }\r\n\r\n    // Render Blast:\r\n    for (let cell of blastedCells) {\r\n        this.blasts.add(new FireBlast(this, cell));\r\n    };\r\n\r\n    // Destroy Tiles:\r\n    for (let cell of blastedCells) {\r\n      if (!cell.destroyed) { continue }\r\n\r\n      this.blockLayer.putTileAt(this.blockLayer.layer.properties.empty, cell.col, cell.row);\r\n    };\r\n\r\n    // Add Spoils:\r\n    for (let cell of blastedCells) {\r\n      if (!cell.destroyed) { continue }\r\n      if (!cell.spoil) { continue }\r\n\r\n      this.spoils.add(new Spoil(this, cell.spoil));\r\n    };\r\n  }\r\n\r\n  onSpoilWasPicked({ player_id, spoil_id, spoil_type }){\r\n    if (player_id === this.player.id){\r\n      this.player.pickSpoil(spoil_type)\r\n    }\r\n\r\n    findAndDestroyFrom(spoil_id, this.spoils)\r\n  }\r\n\r\n  onShowBones({ player_id, col, row }) {\r\n    this.bones.add(new Bone(this, col, row));\r\n\r\n    findAndDestroyFrom(player_id, this.enemies)\r\n    if (this.model.soundOn === true) {\r\n      let FxDeath01 = this.sound.add('FxDeath01', { volume: 0.8, loop: false });\r\n      FxDeath01.play();\r\n    }\r\n  }\r\n\r\n  onPlayerWin(winner_skin) {\r\n    this.socket.emit('leave game');\r\n\r\n    this.scene.start('Win',winner_skin);\r\n    console.log('ToDo: this.state.start Win: '+winner_skin);\r\n  }\r\n\r\n  onPlayerDisconnect({ player_id }) {\r\n    findAndDestroyFrom(player_id, this.enemies);\r\n\r\n    if (this.enemies.children.length >= 1) { return }\r\n\r\n    this.onPlayerWin()\r\n  }\r\n}\r\n\r\nexport default Play;\r\n","export class Preload extends Phaser.Scene {\r\n\r\n  constructor () {\r\n      super('Preload');\r\n  }\r\n\r\n  preload() {\r\n    // Menu:\r\n    this.load.image('main_menu',     'images/menu/main_menu.png');\r\n    this.load.image('slot_backdrop', 'images/menu/slot_backdrop.png');\r\n\r\n    this.load.spritesheet('buttons',    'images/menu/buttons.png',{ frameWidth: 200, frameHeight: 75 });\r\n    this.load.spritesheet('check_icon', 'images/menu/accepts.png', { frameWidth: 75, frameHeight: 75 });\r\n    this.load.spritesheet('list_icon',  'images/menu/game_enter.png', { frameWidth: 75, frameHeight: 75 });\r\n\r\n    this.load.image('hot_map_preview',  'images/menu/hot_map_preview.png');\r\n    this.load.image('cold_map_preview', 'images/menu/cold_map_preview.png');\r\n    this.load.image('hot_map_preview_mini',  'images/menu/hot_map_preview_mini.png');\r\n    this.load.image('cold_map_preview_mini', 'images/menu/cold_map_preview_mini.png');\r\n    this.load.image('prev',             'images/menu/left_arrow.png');\r\n    this.load.image('next',             'images/menu/right_arrow.png');\r\n\r\n    // Map:\r\n    this.load.image('tiles',      'maps/tileset.png');\r\n    this.load.tilemapTiledJSON('hot_map',  'maps/hot_map.json');\r\n    this.load.tilemapTiledJSON('cold_map', 'maps/cold_map.json');\r\n\r\n\r\n    // Game:\r\n    this.load.spritesheet('explosion_center',     'images/game/explosion_center.png',     { frameWidth: 35, frameHeight: 35});\r\n    this.load.spritesheet('explosion_horizontal', 'images/game/explosion_horizontal.png', { frameWidth: 35, frameHeight: 35});\r\n    this.load.spritesheet('explosion_vertical',   'images/game/explosion_vertical.png',   { frameWidth: 35, frameHeight: 35});\r\n    this.load.spritesheet('explosion_up',         'images/game/explosion_up.png',         { frameWidth: 35, frameHeight: 35});\r\n    this.load.spritesheet('explosion_right',      'images/game/explosion_right.png',      { frameWidth: 35, frameHeight: 35});\r\n    this.load.spritesheet('explosion_down',       'images/game/explosion_down.png',       { frameWidth: 35, frameHeight: 35});\r\n    this.load.spritesheet('explosion_left',       'images/game/explosion_left.png',       { frameWidth: 35, frameHeight: 35});\r\n\r\n    this.load.spritesheet('spoil_tileset', 'images/game/spoil_tileset.png', { frameWidth: 35, frameHeight: 35});\r\n    this.load.spritesheet('bone_tileset',  'images/game/bone_tileset.png', { frameWidth: 35, frameHeight: 35});\r\n    this.load.spritesheet('bomb_tileset',  'images/game/bombs.png', { frameWidth: 35, frameHeight: 35});\r\n\r\n    this.load.image('speed_up_bonus',    'images/game/speed_up_bonus.png');\r\n    this.load.image('speed_up_no_bonus', 'images/game/speed_up_no_bonus.png');\r\n    this.load.image('delay_up_bonus',    'images/game/delay_up_bonus.png');\r\n    this.load.image('delay_up_no_bonus', 'images/game/delay_up_no_bonus.png');\r\n    this.load.image('power_up_bonus',    'images/game/power_up_bonus.png');\r\n\r\n    this.load.image('placeholder_power', 'images/game/placeholder_power.png');\r\n    this.load.image('placeholder_speed', 'images/game/placeholder_speed.png');\r\n    this.load.image('placeholder_time',  'images/game/placeholder_time.png');\r\n\r\n    // Skins:\r\n    this.load.image('bomberman_head_blank',     'images/game/chars/0-face.png');\r\n\r\n    this.load.image('bomberman_head_Theodora',  'images/game/chars/1-face.png');\r\n    this.load.image('bomberman_head_Ringo',     'images/game/chars/2-face.png');\r\n    this.load.image('bomberman_head_Jeniffer',  'images/game/chars/3-face.png');\r\n    this.load.image('bomberman_head_Godard',    'images/game/chars/4-face.png');\r\n    this.load.image('bomberman_head_Biarid',    'images/game/chars/5-face.png');\r\n    this.load.image('bomberman_head_Solia',     'images/game/chars/6-face.png');\r\n    this.load.image('bomberman_head_Kedan',     'images/game/chars/7-face.png');\r\n    this.load.image('bomberman_head_Nigob',     'images/game/chars/8-face.png');\r\n    this.load.image('bomberman_head_Baradir',   'images/game/chars/9-face.png');\r\n    this.load.image('bomberman_head_Raviel',    'images/game/chars/10-face.png');\r\n    this.load.image('bomberman_head_Valpo',     'images/game/chars/11-face.png');\r\n\r\n    this.load.spritesheet('bomberman_Theodora',  'images/game/chars/1-preview.png', { frameWidth: 32, frameHeight: 32});\r\n    this.load.spritesheet('bomberman_Ringo',     'images/game/chars/2-preview.png', { frameWidth: 32, frameHeight: 32});\r\n    this.load.spritesheet('bomberman_Jeniffer',  'images/game/chars/3-preview.png', { frameWidth: 32, frameHeight: 32});\r\n    this.load.spritesheet('bomberman_Godard',    'images/game/chars/4-preview.png', { frameWidth: 32, frameHeight: 32});\r\n    this.load.spritesheet('bomberman_Biarid',    'images/game/chars/5-preview.png', { frameWidth: 32, frameHeight: 32});\r\n    this.load.spritesheet('bomberman_Solia',     'images/game/chars/6-preview.png', { frameWidth: 32, frameHeight: 32});\r\n    this.load.spritesheet('bomberman_Kedan',     'images/game/chars/7-preview.png', { frameWidth: 32, frameHeight: 32});\r\n    this.load.spritesheet('bomberman_Nigob',     'images/game/chars/8-preview.png', { frameWidth: 32, frameHeight: 32});\r\n    this.load.spritesheet('bomberman_Baradir',   'images/game/chars/9-preview.png', { frameWidth: 32, frameHeight: 32});\r\n    this.load.spritesheet('bomberman_Raviel',    'images/game/chars/10-preview.png', { frameWidth: 32, frameHeight: 32});\r\n    this.load.spritesheet('bomberman_Valpo',     'images/game/chars/11-preview.png', { frameWidth: 32, frameHeight: 32});\r\n\r\n    this.load.audio('bgMusic01', ['sound/Musics/TownTheme.mp3']);\r\n    this.load.audio('bgMusic02', ['sound/Musics/Techno-Randomness_Looping.mp3']); // https://soundimage.org/dance-techno/\r\n    this.load.audio('bgMusic03', ['sound/Musics/Happy-Trancin.mp3']); // https://soundimage.org/dance-techno/\r\n    this.load.audio('bgMusic04', ['sound/Musics/Electric-Rain_Looping.mp3']); // https://soundimage.org/dance-techno/\r\n\r\n    this.load.audio('FxExplosion01', ['sound/Effects/Explosion3.mp3']);\r\n    this.load.audio('FxPickItem01', ['sound/Effects/PowerUp18.mp3']);\r\n    this.load.audio('FxDeath01', ['sound/Effects/VOXEfrt_Cry of pain (ID 2361)_BSB.mp3']); // https://bigsoundbank.com/detail-2361-cry-of-pain.html\r\n    this.load.audio('FxClick01', ['sound/Effects/UI_Quirky21.mp3']);\r\n    this.load.audio('FxNewUser01', ['sound/Effects/PowerUp18.mp3']);\r\n\r\n    var url = 'https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexvirtualjoystickplugin.min.js';\r\n    this.load.plugin('rexvirtualjoystickplugin', url, true);\r\n  }\r\n\r\n  create() {\r\n    this.scene.start('Menu');\r\n  }\r\n}\r\n\r\nexport default Preload;\r\n","import { AVAILABLE_MAPS } from '../utils/constants.js';\r\nimport { Text, TextButton, MapSlider } from '../helpers/elements.js';\r\n\r\nconst COLOR_PRIMARY = 0x4e342e;\r\nconst COLOR_LIGHT = 0x7b5e57;\r\nconst COLOR_DARK = 0x260e04;\r\n\r\nclass SelectMap extends Phaser.Scene {\r\n  \r\n\r\n\r\n  constructor () {\r\n    super('SelectMap');\r\n  }\r\n\r\n  preload() { \r\n    this.load.scenePlugin({\r\n        key: 'rexuiplugin',\r\n        url: '/phaser3-rex-plugins/dist/rexuiplugin.min.js',\r\n        //url: 'https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexuiplugin.min.js',\r\n        sceneKey: 'rexUI',\r\n        visible: false\r\n    });    \r\n  }\r\n\r\n  init() {\r\n    this.socket=this.registry.get('socketIO');\r\n  }\r\n\r\n  create() {\r\n\r\n\r\n    this.container = this.add.container(0, 0);\r\n    \r\n    var img= this.add.image(this.sys.canvas.clientWidth/2, this.sys.canvas.clientHeight/2, 'main_menu')\r\n      .setOrigin(0.5,0.5);\r\n\r\n    this.container.add(img);\r\n\r\n    var txt= new Text({\r\n      game: this,\r\n      x: this.sys.canvas.clientWidth/2,\r\n      y: this.sys.canvas.clientHeight/2 - 215,\r\n      text: 'Select Map',\r\n      style: {\r\n        font: '35px Areal',\r\n        fill: '#9ec0ba',\r\n        stroke: '#6f7975',\r\n        strokeThickness: 3\r\n      }\r\n    });\r\n\r\n    this.container.add(txt);\r\n\r\n    this.selectedMap='hot_map';\r\n\r\n    var button = new TextButton({\r\n      game: this,\r\n      x: this.sys.canvas.clientWidth/2,\r\n      y: this.sys.canvas.clientHeight/2 + 195,\r\n      asset:'check_icon',\r\n      callback: this.confirmStageSelection,\r\n      callbackContext: this,\r\n      upFrame: 0,\r\n      overFrame:1,\r\n      downFrame:2,\r\n      outFrame:3,\r\n      label: '',\r\n      style: {\r\n        font: '20px Areal',\r\n        fill: '#000000'\r\n      }\r\n    });\r\n \r\n    this.container.add(button);\r\n    \r\n    this.mapSlider = new MapSlider({\r\n      scene: this,\r\n      x: this.sys.canvas.clientWidth/2,\r\n      y: this.sys.canvas.clientHeight/2\r\n    });\r\n\r\n  } \r\n\r\n  confirmStageSelection() {\r\n    if (this.mapSlider.selected!=null)\r\n      this.selectedMap=this.mapSlider.selected;\r\n    this.socket.emit('create game', this.selectedMap, this.joinToNewGame.bind(this));\r\n  };\r\n\r\n  joinToNewGame(game_id) {\r\n    this.mapSlider.destroy();\r\n    this.scene.start('PendingGame', game_id);\r\n  };\r\n\r\n  update() {}\r\n\r\n}\r\n\r\nexport default SelectMap;\r\n","import { Text,TextButton } from '../helpers/elements.js';\r\n\r\nclass Win extends Phaser.Scene {\r\n\r\n  constructor () {\r\n    super('Win');\r\n  }\r\n\r\n  init(winner_skin) {\r\n    this.skin = winner_skin\r\n  }\r\n\r\n  create() {\r\n    new Text({\r\n      game: this,\r\n      x: this.sys.canvas.clientWidth/2,\r\n      y: this.sys.canvas.clientHeight/2,\r\n      text: this.winnerText(),\r\n      style: {\r\n        font: '30px Areal',\r\n        fill: '#FFFFFF'\r\n      }\r\n    })\r\n\r\n    this.button = new TextButton({\r\n      game: this,\r\n      x: this.sys.canvas.clientWidth/2,\r\n      y: this.sys.canvas.clientHeight/2 + 195,\r\n      asset:'buttons',\r\n      callback: this.returnToMenu,\r\n      callbackContext: this,\r\n      upFrame: 0,\r\n      overFrame:1,\r\n      downFrame:2,\r\n      outFrame:3,\r\n      label: 'Back to Menu',\r\n      style: {\r\n        font: '20px Areal',\r\n        fill: '#000000'\r\n      }\r\n    });\r\n    this.cursorKeys  = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.ENTER);\r\n\r\n    this.model = this.registry.get('Model');\r\n    if (!this.model.bgMusicPlaying === false){\r\n      this.sound.stopAll();\r\n      this.model.bgMusicPlaying = false;\r\n      this.registry.set('Model', this.bgMusic);\r\n    }\r\n    if (this.model.musicOn === true) {\r\n      this.bgMusic = this.sound.add('bgMusic01', { volume: 0.5, loop: true });\r\n      this.bgMusic.play();\r\n      this.model.bgMusicPlaying = true;\r\n      this.model.bgMusic='bgMusic01';\r\n      this.registry.set('Model', this.model);\r\n    }\r\n  }\r\n\r\n  update() {\r\n    if( this.cursorKeys.isDown ) {\r\n      this.returnToMenu();\r\n    }\r\n  }\r\n\r\n  returnToMenu() {\r\n    this.scene.start('Menu');\r\n  }\r\n\r\n  winnerText() {\r\n    if (this.skin) {\r\n      return 'Player: \"'+this.skin+'\" won! Press Enter to return to main menu.';\r\n    }\r\n    return 'Opponent left! Press Enter to return to main menu.'\r\n  }\r\n}\r\n\r\nexport default Win;\r\n","export const AVAILABLE_MAPS = ['hot_map', 'cold_map']\r\nexport const TILESET = 'tiles';\r\nexport const LAYER   = 'Blocks';\r\n\r\nexport const TILE_SIZE = 35;\r\nexport const EXPLOSION_TIME = 2000;\r\nexport const PING = 100;\r\n\r\nexport const SPEED = 0;\r\nexport const POWER = 1;\r\nexport const DELAY = 2;\r\n\r\nexport const INITIAL_SPEED = 150;\r\nexport const STEP_SPEED = 50;\r\nexport const MAX_SPEED = 350;\r\nexport const INITIAL_DELAY = 2000;\r\nexport const STEP_DELAY = 500;\r\nexport const MIN_DELAY = 500;\r\nexport const INITIAL_POWER = 1;\r\nexport const STEP_POWER = 1;\r\n","export const findFrom = function(id, entities) {\r\n  for (let entity of entities.getChildren()) {\r\n    if (entity.id !== id) { continue }\r\n\r\n    return entity\r\n  }\r\n  return null;\r\n}\r\n\r\nexport const findAndDestroyFrom = function(id, entities) {\r\n  let entity = findFrom(id, entities);\r\n  if (!entity) { return }\r\n\r\n  entity.destroy()\r\n}\r\n"],"sourceRoot":""}